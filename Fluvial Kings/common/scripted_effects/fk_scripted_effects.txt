set_council_law_strong_effect = {
	primary_title = {
		add_law = {
			law = law_voting_power_1
			opinion_effect = no
		}
		add_law = {
			law = war_voting_power_1
			cooldown = yes
			opinion_effect = no
		}
		add_law = {
			law = revoke_title_voting_power_1
			cooldown = yes
			opinion_effect = no
		}
		add_law = {
			law = execution_voting_power_1
			cooldown = yes
			opinion_effect = no
		}
		add_law = {
			law = grant_title_voting_power_1
			cooldown = yes
			opinion_effect = no
		}
		add_law = {
			law = banish_voting_power_1
			cooldown = yes
			opinion_effect = no
		}
		add_law = {
			law = imprison_voting_power_1
			cooldown = yes
			opinion_effect = no
		}
		add_law = {
			law = succession_voting_power_1
			cooldown = yes
			opinion_effect = no
		}
		# add_law = {
			# law = revoke_title_law_0
			# cooldown = yes
			# opinion_effect = no
		# }
		add_law = {
			law = bureaucratic_war_declaration_1
			cooldown = yes
			opinion_effect = no
		}
	}
}

pantheon_court_effect = {
	if = {
		limit = {
			religion_group = pihassasi
		}
		character_event = { id = fkp.1 }
	}
}

conversion_removal_effect = {
	if = {
		limit = {
			religion = haianiluwi
			NOT = {
				trait = devotion_arinniti
			}
		}
		remove_boon_arinniti_effect = yes
		remove_curse_arinniti_effect = yes
	}
}

boon_or_no_boon_effect = {
	random_list = {
		55 = { #Boon
			FROM = { 
				character_event = { id = fkp.100 }
			}
			modifier = {
				factor = 0.2
				event_target:target_god = { opinion = { who = FROM value <= -80 } }
			}
			modifier = {
				factor = 0.4
				event_target:target_god = { opinion = { who = FROM value <= -60 } }
			}
			modifier = {
				factor = 0.6
				event_target:target_god = { opinion = { who = FROM value <= -40 } }
			}
			modifier = {
				factor = 0.8
				event_target:target_god = { opinion = { who = FROM value <= -20 } }
			}
			modifier = {
				factor = 1.2
				event_target:target_god = { opinion = { who = FROM value = 20 } }
			}
			modifier = {
				factor = 1.4
				event_target:target_god = { opinion = { who = FROM value = 40 } }
			}
			modifier = {
				factor = 1.6
				event_target:target_god = { opinion = { who = FROM value = 60 } }
			}
			modifier = {
				factor = 1.8
				event_target:target_god = { opinion = { who = FROM value = 80 } }
			}
		}
		45 = { #No Boon
			FROM = { 
				character_event = { id = fkp.101 }
			}
			modifier = {
				factor = 1.8
				event_target:target_god = { opinion = { who = FROM value <= -80 } }
			}
			modifier = {
				factor = 1.6
				event_target:target_god = { opinion = { who = FROM value <= -60 } }
			}
			modifier = {
				factor = 1.4
				event_target:target_god = { opinion = { who = FROM value <= -40 } }
			}
			modifier = {
				factor = 1.2
				event_target:target_god = { opinion = { who = FROM value <= -20 } }
			}
			modifier = {
				factor = 0.9
				event_target:target_god = { opinion = { who = FROM value = 40 } }
			}
			modifier = {
				factor = 0.8
				event_target:target_god = { opinion = { who = FROM value = 60 } }
			}
			modifier = {
				factor = 0.6
				event_target:target_god = { opinion = { who = FROM value = 80 } }
			}
		}
	}
}

apply_random_boon_effect = {
	if = {
		limit = {
			FROM = {
				trait = tarhunna
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = tarhunna_boon_1
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = tarhunna_boon_2
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = tarhunna_boon_3
					years = 5
				}
			}
		}
	}
	if = {
		limit = {
			FROM = {
				trait = arinniti
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = arinniti_boon_1
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = arinniti_boon_2
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = arinniti_boon_3
					years = 5
				}
			}
		}
	}
	if = {
		limit = {
			FROM = {
				trait = telipinu
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = telipinu_boon_1
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = telipinu_boon_2
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = telipinu_boon_3
					years = 5
				}
			}
		}
	}
}

remove_boon_tarhunna_effect = {
	remove_character_modifier = tarhunna_boon_1
	remove_character_modifier = tarhunna_boon_2
	remove_character_modifier = tarhunna_boon_3
}

remove_boon_arinniti_effect = {
	remove_character_modifier = arinniti_boon_1
	remove_character_modifier = arinniti_boon_2
	remove_character_modifier = arinniti_boon_3
}

remove_boon_telipinu_effect = {
	remove_character_modifier = telipinu_boon_1
	remove_character_modifier = telipinu_boon_2
	remove_character_modifier = telipinu_boon_3
}


apply_random_curse_effect = {
	if = {
		limit = {
			FROM = {
				trait = tarhunna
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = tarhunna_curse_1
					duration = -1
				}
			}
			33 = {
				add_character_modifier = {
					modifier = tarhunna_curse_2
					duration = -1
				}
			}
			33 = {
				add_character_modifier = {
					modifier = tarhunna_curse_3
					duration = -1
				}
			}
		}
	}
	if = {
		limit = {
			FROM = {
				trait = arinniti
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = arinniti_curse_1
					duration = -1
				}
			}
			33 = {
				add_character_modifier = {
					modifier = arinniti_curse_2
					duration = -1
				}
			}
			33 = {
				add_character_modifier = {
					modifier = arinniti_curse_3
					duration = -1
				}
			}
		}
	}
	if = {
		limit = {
			FROM = {
				trait = telipinu
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = telipinu_curse_1
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = telipinu_curse_2
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = telipinu_curse_3
					years = 5
				}
			}
		}
	}
}

apply_random_curse_effect_FROMFROM = {
	if = {
		limit = {
			FROMFROM = {
				trait = tarhunna
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = tarhunna_curse_1
					duration = -1
				}
			}
			33 = {
				add_character_modifier = {
					modifier = tarhunna_curse_2
					duration = -1
				}
			}
			33 = {
				add_character_modifier = {
					modifier = tarhunna_curse_3
					duration = -1
				}
			}
		}
	}
	if = {
		limit = {
			FROMFROM = {
				trait = arinniti
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = arinniti_curse_1
					duration = -1
				}
			}
			33 = {
				add_character_modifier = {
					modifier = arinniti_curse_2
					duration = -1
				}
			}
			33 = {
				add_character_modifier = {
					modifier = arinniti_curse_3
					duration = -1
				}
			}
		}
	}
	if = {
		limit = {
			FROMFROM = {
				trait = telipinu
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = telipinu_curse_1
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = telipinu_curse_2
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = telipinu_curse_3
					years = 5
				}
			}
		}
	}
}

remove_boon_effect_FROMFROM = {
	if = {
		limit = {
			FROMFROM = {
				trait = tarhunna
			}
		}
		remove_boon_tarhunna_effect = yes
	}
	if = {
		limit = {
			FROMFROM = {
				trait = arinniti
			}
		}
		remove_boon_arinniti_effect = yes
	}
	if = {
		limit = {
			FROMFROM = {
				trait = telipinu
			}
		}
		remove_boon_telipinu_effect = yes
	}
}

remove_curse_tarhunna_effect = {
	remove_character_modifier = tarhunna_curse_1
	remove_character_modifier = tarhunna_curse_2
	remove_character_modifier = tarhunna_curse_3
}

remove_curse_arinniti_effect = {
	remove_character_modifier = arinniti_curse_1
	remove_character_modifier = arinniti_curse_2
	remove_character_modifier = arinniti_curse_3
}

remove_curse_telipinu_effect = {
	remove_character_modifier = telipinu_curse_1
	remove_character_modifier = telipinu_curse_2
	remove_character_modifier = telipinu_curse_3
}

remove_curse_sacrifice_effect = {
	if = {
		limit = {
			event_target:target_god = {
				trait = tarhunna
			}
		}
		remove_curse_tarhunna_effect = yes
	}
	if = {
		limit = {
			event_target:target_god = {
				trait = arinniti
			}
		}
		remove_curse_arinniti_effect = yes
	}
	if = {
		limit = {
			event_target:target_god = {
				trait = telipinu
			}
		}
		remove_curse_telipinu_effect = yes
	}
}

#AI Only
ai_make_sacrifice_to_evaluation_effect = {
	save_event_target_as = sacrificer
	if = {
		limit = {
			religion_group = pihassasi
		}
		random_list = {
			40 = { #Tarhunna
				trigger = {
					c_1000000 = {
						NOR = {
							received_sacrifice_recently_trigger_ROOT = yes
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_cursed_by
							}
						}
					}
				}
				c_1000000 = {
					save_event_target_as = target_god
					ai_sacrifice_success_or_fail = yes
				}
				modifier = {
					factor = 1.5
					likes_war_god_trigger = yes
				}
				modifier = {
					factor = 2
					trait = devotion_tarhunna
				}
			}
			30 = { #Arinniti
				trigger = {
					OR = {
						NOT = {
							religion = haianiluwi
						}
						trait = devotion_arinniti
					}
					c_1000001 = {
						NOR = {
							received_sacrifice_recently_trigger_ROOT = yes
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_cursed_by
							}
						}
					}
				}
				c_1000001 = {
					save_event_target_as = target_god
					ai_sacrifice_success_or_fail = yes
				}
				modifier = {
					factor = 2
					trait = devotion_arinniti
				}
			}
			30 = { #Telipinu
				trigger = {
					c_1000002 = {
						NOR = {
							received_sacrifice_recently_trigger_ROOT = yes
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_cursed_by
							}
						}
					}
				}
				c_1000002 = {
					save_event_target_as = target_god
					ai_sacrifice_success_or_fail = yes
				}
				modifier = {
					factor = 2
					trait = devotion_telipinu
				}
			}
		}
	}
}

ai_sacrifice_success_or_fail = {
	random_list = {
		40 = {
			FROM = {
				wealth = -50
				set_character_flag = small_sacrifice
			}
		}
		35 = {
			trigger = {
				FROM = {
					wealth = 250
				}
			}
			FROM = {
				wealth = -250
				set_character_flag = medium_sacrifice
			}
		}
		25 = {
			trigger = {
				FROM = {
					wealth = 500
				}
			}
			FROM = {
				wealth = -500
				set_character_flag = large_sacrifice
			}
		}
	}
	random_list = {
		60 = { #Do Well
			FROM = { 
				character_event = { id = fkp.204 }
			}
			modifier = {
				factor = 1.5
				FROM = {
					OR = {
						trait = scholarly_theologian
						trait = mastermind_theologian
						trait = erudite
						learning = 12
					}
				}
			}
			modifier = {
				factor = 1.2
				FROM = {
					has_character_flag = medium_sacrifice
				}
			}
			modifier = {
				factor = 1.3
				FROM = {
					OR = {
						trait = dull
						has_character_flag = large_sacrifice
						learning < 10
					}
				}
			}
		}
		40 = { #Do Poorly
			FROM = { 
				character_event = { id = fkp.205 }
			}
			modifier = {
				factor = 1.5
				FROM = {
					OR = {
						trait = inbred
						trait = slow
						trait = imbecile
						learning < 10
					}
				}
			}
		}
	}
}

ai_request_boon_evaluation_effect = {
	if = {
		limit = {
			religion_group = pihassasi
		}
		random_list = {
			40 = { #Tarhunna
				trigger = {
					c_1000000 = {
						NOT = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_cursed_by
							}
						}
					}
				}
				c_1000000 = {
					save_event_target_as = target_god
					boon_or_no_boon_effect = yes
				}
				modifier = {
					factor = 100
					c_1000000 = {
						received_sacrifice_recently_trigger = yes
					}
				}
				modifier = {
					factor = 2
					trait = devotion_tarhunna
				}
			}
			30 = { #Arinniti
				trigger = {
					c_1000001 = {
						NOT = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_cursed_by
							}
						}
					}
					OR = {
						NOT = {
							religion = haianiluwi
						}
						trait = devotion_arinniti
					}
				}
				c_1000001 = {
					save_event_target_as = target_god
					boon_or_no_boon_effect = yes
				}
				modifier = {
					factor = 100
					c_1000001 = {
						received_sacrifice_recently_trigger = yes
					}
				}
				modifier = {
					factor = 2
					trait = devotion_arinniti
				}
			}
			30 = { #Telipinu
				trigger = {
					c_1000002 = {
						NOT = {
							reverse_has_opinion_modifier = {
								who = ROOT
								modifier = opinion_cursed_by
							}
						}
					}
				}
				c_1000002 = {
					save_event_target_as = target_god
					boon_or_no_boon_effect = yes
				}
				modifier = {
					factor = 100
					c_1000002 = {
						received_sacrifice_recently_trigger = yes
					}
				}
				modifier = {
					factor = 2
					trait = devotion_telipinu
				}
			}
		}
	}
}

ai_apply_random_boon_effect = {
	if = {
		limit = {
			event_target:target_god = {
				trait = tarhunna
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = tarhunna_boon_1
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = tarhunna_boon_2
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = tarhunna_boon_3
					years = 5
				}
			}
		}
	}
	if = {
		limit = {
			event_target:target_god = {
				trait = arinniti
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = arinniti_boon_1
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = arinniti_boon_2
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = arinniti_boon_3
					years = 5
				}
			}
		}
	}
	if = {
		limit = {
			event_target:target_god = {
				trait = telipinu
			}
		}
		random_list = {
			33 = {
				add_character_modifier = {
					modifier = telipinu_boon_1
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = telipinu_boon_2
					years = 5
				}
			}
			33 = {
				add_character_modifier = {
					modifier = telipinu_boon_3
					years = 5
				}
			}
		}
	}
}
