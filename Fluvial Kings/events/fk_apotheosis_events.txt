namespace = fka

#A character is eligible for Apotheosis (on_death)
character_event = {
	id = fka.1
	hide_window = yes
	is_triggered_only = yes
	min_age = 16
	religion_group = hellenic
	has_dlc = "Holy Fury"

	trigger = {
		OR = {
			AND = {
				death_in_china_trigger = no
				death_no_trace_trigger = no
				NOR = {
					trait = excommunicated
					trait = cannibal_trait
					#controls_religion = yes
					has_character_modifier = voice_of_satan
					has_character_modifier = known_satanist
					has_character_modifier = suspected_demon_spawn
					has_character_modifier = suspected_witch
					has_character_modifier = known_witch
					has_character_modifier = crazy_cannibal
					has_character_modifier = demon_child_non_pagan
					has_character_modifier = corrupting_magic_minor
					has_character_modifier = corrupting_magic_major
					dynasty = none
				}
				any_dynasty_member = {
					is_landed = yes
				}
				OR = {
					check_variable = { which = apotheosis_victory value = 10 }
					check_variable = { which = apotheosis_duel value = 10 }
					check_variable = { which = apotheosis_sack value = 10 }
				}
				has_curse_trigger = no
				OR = {
					trait = skilled_tactician
					trait = brilliant_strategist
					trait = strategist
					leader_traits = 1	
				}
				martial = 15
				is_adult = yes
			}
			has_character_flag = destined_hero
		}
	}

	immediate = {
        #Beatification
        save_event_target_as = hero_person
        if = {
			limit = {
				is_landed = yes
			}
			event_target:hero_person = {
				capital_scope = {
					save_event_target_as = hero_capital
				}
			}
			random_demesne_province = {
				limit = {
					NOR = {
						has_province_modifier = tomb_of_a_hero
						has_province_modifier = pillaged_tomb_of_a_hero
					}
				}
				save_event_target_as = random_hero_demesne_province
			}
			random_realm_province = {
				limit = {
					NOR = {
						has_province_modifier = tomb_of_a_hero
						has_province_modifier = pillaged_tomb_of_a_hero
					}
				}
				save_event_target_as = random_hero_realm_province
			}
		}
		else = {
			liege = {
				capital_scope = {
					save_event_target_as = hero_capital
				}
				random_demesne_province = {
					limit = {
						NOR = {
							has_province_modifier = tomb_of_a_hero
							has_province_modifier = pillaged_tomb_of_a_hero
						}
					}
					save_event_target_as = random_hero_demesne_province
				}
				random_realm_province = {
					limit = {
						NOR = {
							has_province_modifier = tomb_of_a_hero
							has_province_modifier = pillaged_tomb_of_a_hero
						}
					}
					save_event_target_as = random_hero_realm_province
				}
			}
		}
        #Potential for herohood
        deciding_upon_hero_effect = yes

        if = {
            limit = {
                event_target:hero_person = {
                    ai = no
                }
            }
            event_target:hero_person = {
                add_trait = i_used_to_be_a_player
            }
        }
	}
}

#Checking time left for Apotheosis
province_event = {
    id = fka.2
    hide_window = yes
    is_triggered_only = yes
    has_dlc = "Holy Fury"
    immediate = {
        # if = {
            # limit = {
                # event_target:hero_person = {
                    # trait = i_used_to_be_a_player
                # }
            # }
            # province_event = { id = fka.3 days = 1000 random = 1000 }
        # }
        # else = {
            # province_event = { id = fka.3 days = 1000 random = 1000 }
        # }
		province_event = { id = fka.3 days = 1 }
    }
}

#Preparing Apotheosis
province_event = {
    id = fka.3
    hide_window = yes
    is_triggered_only = yes
    has_dlc = "Holy Fury"

    immediate = { 
		event_target:hero_person = {
		   character_event = { id = fka.4 }
		}     	
    }
}

#Apotheosis
character_event = {
    id = fka.4
    hide_window = yes
    is_triggered_only = yes
    has_dlc = "Holy Fury"

    immediate = {
		set_special_character_title = HERO_TITLE
		random_list = {
			1000 = {
				trigger = {
					trait = zealous
					trait = brilliant_strategist
				}
				give_nickname = nick_theoeidis
			}
			100 = {
				trigger = {
					OR = {
						trait = quick
						trait = genius
						trait = strategist
					}
				}
				give_nickname = nick_polumetis
			}
			100 = {
				trigger = {
					trait = cavalry_leader
				}
				give_nickname = nick_hippodamas
			}
			100 = {
				trigger = {
					trait = organizer
				}
				give_nickname = nick_podarkes
			}
			100 = {
				trigger = {
					OR = {
						trait = rough_terrain_leader
						trait = mountain_terrain_leader
						trait = narrow_flank_leader
						trait = trickster
					}
				}
				give_nickname = nick_polutlas
			}
			100 = {
				trigger = {
					higher_real_tier_than = DUKE
				}
				give_nickname = nick_anax_andron
			}
			100 = {
				trigger = {
					trait = brave
				}
				give_nickname = nick_thumoleonta
			}
			5 = {
				give_nickname = nick_arephilos
			}
			5 = {
				give_nickname = nick_diotrephes
			}
			5 = {
				give_nickname = nick_megaletor
			}
		}           
		# Messages
		any_playable_ruler = {
			limit = {
				NOT = {
					family = event_target:hero_person
				}
				religion_group = ROOT
			}
			narrative_event = { id = fka.7 }
		}
		event_target:hero_person = {
			any_dynasty_member = {
				limit = {
					religion_group = ROOT
				}
				narrative_event = { id = fka.7 }
			}
		}
		# Trait change
		event_target:hero_person = {
			add_trait = hero   
		}
		# Burial Site setting
		if = {
			limit = {
				event_target:hero_person = {
					is_landed = yes
				}
			}
			#Confirm that a burial site exists, for pilgrimage
			set_global_flag = heroic_burial_sites_exist
			event_target:hero_capital = {
				owner = {
					save_event_target_as = hero_capital_owner
				}
			}
			if = {
				limit = {
					NOR = {
						event_target:hero_capital = {
							has_province_modifier = tomb_of_a_hero
						}
						event_target:hero_capital = {
							has_province_modifier = pillaged_tomb_of_a_hero
						}
					}
				}
				event_target:hero_capital = {
					setting_up_heroic_burial_site_effect = yes
					save_persistent_event_target = {
						name = province_hero
						scope = event_target:hero_person
					}
				}
			}
			else_if = {
				limit = {
					event_target:hero_capital = {
						any_neighbor_province = {
							owner = {
								character = event_target:hero_capital_owner
							}
							NOR = {
								has_province_modifier = tomb_of_a_hero
								has_province_modifier = pillaged_tomb_of_a_hero
							}
						}
					}
				}
				event_target:hero_capital = {
					random_neighbor_province = {
						limit = {
							owner = {
								character = event_target:hero_capital_owner
							}
							NOR = {
								has_province_modifier = tomb_of_a_hero
								has_province_modifier = pillaged_tomb_of_a_hero
							}
						}
						setting_up_heroic_burial_site_effect = yes
						save_persistent_event_target = {
							name = province_hero
							scope = event_target:hero_person
						}
					}
				}
			}
			else_if = {
				limit = {
					NOR = {
						event_target:random_hero_demesne_province = {
							has_province_modifier = tomb_of_a_hero
						}
						event_target:random_hero_demesne_province = {
							has_province_modifier = pillaged_tomb_of_a_hero
						}
					}
				}
				event_target:random_hero_demesne_province = {
					setting_up_heroic_burial_site_effect = yes
					save_persistent_event_target = {
						name = province_hero
						scope = event_target:hero_person
					}
				}
			}
			else_if = {
				limit = {
					NOR = {
						event_target:random_hero_realm_province = {
							has_province_modifier = tomb_of_a_hero
						}
						event_target:random_hero_realm_province = {
							has_province_modifier = pillaged_tomb_of_a_hero
						}
					}
				}
				event_target:random_hero_realm_province = {
					setting_up_heroic_burial_site_effect = yes     
					save_persistent_event_target = {
						name = province_hero
						scope = event_target:hero_person
					}					
				}
			}
		}
		else = {
			#Confirm that a burial site exists, for pilgrimage
			set_global_flag = heroic_burial_sites_exist
			event_target:hero_capital = {
				owner = {
					save_event_target_as = hero_capital_owner
				}
			}
			if = {
				limit = {
					NOR = {
						event_target:hero_capital = {
							has_province_modifier = tomb_of_a_hero
						}
						event_target:hero_capital = {
							has_province_modifier = pillaged_tomb_of_a_hero
						}
					}
				}
				event_target:hero_capital = {
					setting_up_heroic_burial_site_effect = yes
					save_persistent_event_target = {
						name = province_hero
						scope = event_target:hero_person
					}
				}
			}
			else_if = {
				limit = {
					event_target:hero_capital = {
						any_neighbor_province = {
							owner = {
								character = event_target:hero_capital_owner
							}
							NOR = {
								has_province_modifier = tomb_of_a_hero
								has_province_modifier = pillaged_tomb_of_a_hero
							}
						}
					}
				}
				event_target:hero_capital = {
					random_neighbor_province = {
						limit = {
							owner = {
								character = event_target:hero_capital_owner
							}
							NOR = {
								has_province_modifier = tomb_of_a_hero
								has_province_modifier = pillaged_tomb_of_a_hero
							}
						}
						setting_up_heroic_burial_site_effect = yes
						save_persistent_event_target = {
							name = province_hero
							scope = event_target:hero_person
						}
					}
				}
			}
			else_if = {
				limit = {
					NOR = {
						event_target:random_hero_demesne_province = {
							has_province_modifier = tomb_of_a_hero
						}
						event_target:random_hero_demesne_province = {
							has_province_modifier = pillaged_tomb_of_a_hero
						}
					}
				}
				event_target:random_hero_demesne_province = {
					setting_up_heroic_burial_site_effect = yes
					save_persistent_event_target = {
						name = province_hero
						scope = event_target:hero_person
					}
				}
			}
			else_if = {
				limit = {
					NOR = {
						event_target:random_hero_realm_province = {
							has_province_modifier = tomb_of_a_hero
						}
						event_target:random_hero_realm_province = {
							has_province_modifier = pillaged_tomb_of_a_hero
						}
					}
				}
				event_target:random_hero_realm_province = {
					setting_up_heroic_burial_site_effect = yes     
					save_persistent_event_target = {
						name = province_hero
						scope = event_target:hero_person
					}					
				}
			}
		}
		# Bloodline creation
		if = {
			limit = {
				religion_group = hellenic
			}
			create_bloodline = {
				type = heroic_bloodline_hellenic
				religion = event_target:hero_person
				inheritance = patrilineal
			}
		}
    }

    option = {
        name = EVTOPTB_HF_40020

        ai_chance = {
            factor = 0
        }
    }
}

#Burial Notification
province_event = {
    id = fka.5
    is_triggered_only = yes
    hide_window = yes
    has_dlc = "Holy Fury"

   	immediate = {
   		owner = {
			character_event = { id = fka.6 }
   		}
   	}
}

#Owner Notification
character_event = {
    id = fka.6
    desc = EVTDESCFKA6
    picture = GFX_evt_warrior_greek_gathering
    is_triggered_only = yes
    notification = yes
    has_dlc = "Holy Fury"

    option = {      
        name = OK
    }
}

#Apotheosis Announcment
narrative_event = {
    id = fka.7
    desc = EVTDESCFKA7
	picture = GFX_evt_oracle_response
    title = EVTTITLEFKA7
    portrait = event_target:hero_person
	border = GFX_event_narrative_frame_religion
    is_triggered_only = yes
    has_dlc = "Holy Fury"

    option = {      
        name = EVTOPTAFKA7
        show_portrait = FROM
        if = {
            limit = {
                event_target:hero_person = {
                    family = ROOT
                }
            }
            piety = 100
			custom_tooltip = { text = TT_HERO_FAMILY }
        }
    }
}

#Boost in pilgrims to local saintly burial site
character_event = {
    id = fka.8
    desc = EVTDESCFKA8
    picture = GFX_evt_busy_market
    religion_group = hellenic
    only_playable = yes
    min_age = 16
    only_capable = yes
    is_triggered_only = yes
    has_dlc = "Holy Fury"
    trigger = {
    	ROOT = {
	    	OR = {
		    	any_demesne_province  = {
	    			has_province_modifier = tomb_of_a_hero
	    		}
	    		any_demesne_province = {
	    			has_province_modifier = pillaged_tomb_of_a_hero
	    		}
	    	}
    	}
    }

    immediate = {
    	random_demesne_province = {
    		limit = {
    			OR = {
    				has_province_modifier = tomb_of_a_hero
    				has_province_modifier = pillaged_tomb_of_a_hero
    			}
    		}
    		save_event_target_as = local_burial_tomb
    	}
    }

    #Refurbish the tomb to show what a grand pious leader you are
    option = {      
        name = EVTOPTAFKA8
        trigger = {
        	event_target:local_burial_tomb = {
        		has_province_modifier = pillaged_tomb_of_a_hero
        	}
        }
        scaled_wealth = { value = -0.3 min = -50 max = -200 }
        piety = 30
        custom_tooltip = { text = EVTOPTA_HF_46000_TT }
        hidden_tooltip = {
	        event_target:local_burial_tomb = {
	        	remove_province_modifier = pillaged_tomb_of_a_hero
	        	add_province_modifier = {
	        		name = tomb_of_a_hero
	        		duration = -1
	        	}
	        }
        }
    }
    #Refurbish and grant a huge public donation to the church
    option = {
    	name = EVTOPTBFKA8
    	trigger = {
    		trait = zealous
        	event_target:local_burial_tomb = {
        		has_province_modifier = pillaged_tomb_of_a_hero
        	}
    	}
    	tooltip_info = zealous
    	scaled_wealth = { value = -1 min = -200 max = -500 }
    	piety = 100
        custom_tooltip = { text = EVTOPTA_HF_46000_TT }
        hidden_tooltip = {
	        event_target:local_burial_tomb = {
	        	remove_province_modifier = pillaged_tomb_of_a_hero
	        	add_province_modifier = {
	        		name = tomb_of_a_hero
	        		duration = -1
	        	}
	        }
        }
    }
    option = {
    	name = EVTOPTCFKA8
    	trigger = {
    		trait = zealous
    		NOT = {
    			event_target:local_burial_tomb = {
    				has_province_modifier = pillaged_tomb_of_a_hero
    			}
    		}
    	}
    	tooltip_info = zealous
    	scaled_wealth = { value = -0.6 min = -100 max = -350 }
    	piety = 50
    }
    #Make some money off of them
    option = {      
        name = EVTOPTDFKA8
        scaled_wealth = { value = 0.1 min = 50 max = 250 }
        piety = -10
    }
    #Talk to the people
    option = {
    	name = EVTOPTEFKA8
    	trigger = {
    		NOT = {
    			trait = shy
    			trait = pilgrim
    		}
    	}
    	piety = 10
    	random = {
    		chance = 50
    		add_trait = gregarious
    		character_event = { id = 38265 }
    	}
    }
    #Reminisce about my own pilgrimage
    option = {
    	name = EVTOPTFFKA8
    	trigger = {
    		trait = pilgrim
    	}
    	prestige = 25 
    	piety = 10
    	random = {
    		chance = 75
    		add_trait = gregarious
    		character_event = { id = 38265 }
    	}
    }
}

#Inspired by Local hero
character_event = {
    id = fka.9
    desc = EVTDESCFKA9
    picture = GFX_evt_written_stele
    religion_group = hellenic
    min_age = 16
    only_playable = yes
    only_capable = yes
    is_triggered_only = yes
    has_dlc = "Holy Fury"

    trigger = {
    	OR = {
	    	any_demesne_province = {
	    		has_province_modifier = tomb_of_a_hero
	    	}
	    	any_demesne_province = {
	    		has_province_modifier = pillaged_tomb_of_a_hero
	    	}
    	}
    }

    immediate = {
    	random_demesne_province = {
    		limit = {
    			OR = { 
    				has_province_modifier = tomb_of_a_hero
    				has_province_modifier = pillaged_tomb_of_a_hero
    			}
    		}
    		save_event_target_as = heroic_burial_site
    	}

    	random_list = {
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = chaste
    						}
    					}
    				}
    				trait = chaste
    			}
    			set_variable = { which = inspired value = 1}
    		}
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = { 
    							trait = temperate
    						}
    					}
    				}
    				trait = temperate
    			}
    			set_variable = { which = inspired value = 2}
    		}
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = charitable
    						}
    					}
    				}
    				trait = charitable
    			}
    			set_variable = { which = inspired value = 3}
    		}
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = diligent
    						}
    					}
    				}
    				trait = diligent
    			}
    			set_variable = { which = inspired value = 4}
    		}
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = patient
    						}
    					}
    				}
    				trait = patient
    			}
 				set_variable = { which = inspired value = 5}
    		}
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = kind
    						}
    					}
    				}
    				trait = kind
    			}
    			set_variable = { which = inspired value = 6}
    		}
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = humble
    						}
    					}
    				}
    				trait = humble
    			}
    			set_variable = { which = inspired value = 7}
    		}
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = zealous
    						}
    					}
    				}
    				trait = zealous
    			}
    			set_variable = { which = inspired value = 8}
    		}
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = honest
    						}
    					}
    				}
    				trait = honest
    			}
    			set_variable = { which = inspired value = 9}
    		}
    		10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = just
    						}
    					}
    				}
    				trait = just
    			}
    			set_variable = { which = inspired value = 10}
    		}
			10 = {
    			modifier = {
    				factor = 0
    				event_target:saintly_burial_site = {
    					event_target:province_hero = {
    						NOT = {
    							trait = brave
    						}
    					}
    				}
    				trait = brave
    			}
    			set_variable = { which = inspired value = 11 }
    		}
    	}
    }

    option = {      
        name = EVTOPTAFKA9
        if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 1}
        	}
        	add_trait = chaste
        }
        else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 2}
        	}
        	add_trait = temperate
        }
        else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 3}
        	}
        	add_trait = charitable
        }
        else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 4}
        	}
        	add_trait = diligent
        }
        else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 5}
        	}
        	add_trait = patient
        }
        else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 6}
        	}
        	add_trait = kind
        }
        else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 7}
        	}
        	add_trait = humble
        }
        else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 8}
        	}
        	add_trait = zealous
        }
        else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 9}
        	}
        	add_trait = honest
        }
        else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 10}
        	}
        	add_trait = just
        }
		else_if = {
        	limit = {
        		is_variable_equal = { which = inspired value = 11}
        	}
        	add_trait = brave
        }
        piety = 50
    }
    option = {
    	name = EVTOPTBFKA9
    }
}

#Pillage local hero burial site 
character_event = {
    id = fka.10
    desc = EVTDESCFKA10
    picture = GFX_evt_maniac_king
    portrait = event_target:offended_burial_site_owner
    is_triggered_only = yes
    only_playable = yes
    ai = no
    min_age = 16
    only_capable = yes
    religion_group = hellenic
    prisoner = no
    has_dlc = "Holy Fury"

    trigger = {
    	trait = cynical
    	OR = {
    		trait = greedy
    		trait = arbitrary 
    	}
    	any_liege = {
	    	any_realm_province = {
	    		has_province_modifier = tomb_of_a_hero
	    		NOT = {
	    			owner = {
	    				character = ROOT
	    			}
	    		}
			}
		}
    }

    immediate = {
    	any_liege = {
	    	random_realm_province = {
	    		limit = {
	    			has_province_modifier = tomb_of_a_hero
	    			NOT = {
	    				owner = {
	    					character = ROOT 
	    				}
	    			}
	    		}
	    		save_event_target_as = target_burial_site
	    	}
    	}
    	event_target:target_burial_site = {
    		owner = {
    			save_event_target_as = offended_burial_site_owner
    		}
    	}
    }
    #I never cared much about him/her, but I won't offend God
    option = {      
        name = EVTOPTAFKA10
        piety = 10
    }
    #Try and pillage it
    option = {      
        name = EVTOPTBFKA10
        custom_tooltip = { text = EVTOPTBFKA10_TT }
        character_event = { id = fka.11 days = 30 random = 30 }
    }
}

#Trying to pillage
character_event = {
    id = fka.11
    desc = EVTDESCFKA11
    picture = GFX_evt_raiding_greek_tomb
    is_triggered_only = yes
    has_dlc = "Holy Fury"

    #Grab some things and get out
    option = {      
        name = EVTOPTAFKA11
        random_list = {
        	70 = {
        		modifier = {
        			factor = 1.5 
        			intrigue = 12
        		}
        		modifier = {
        			factor = 1.5
        			intrigue = 18
        		}
        		custom_tooltip = { text = EVTOPTAFKA11_TT }
        		hidden_tooltip = {
	        		# random_list = {
	        			# 50 = {
	        				# add_artifact = saintly_finger
	        				# new_artifact = {
	        					# set_name = saint_finger_name
	        				# }
	        			# }
	        			# 35 = {
	        				# add_artifact = saintly_bone
	        				# new_artifact = {
	        					# set_name = saint_bone_name
	        				# }
	        			# }
	        			# 15 = {
	        				# add_artifact = saintly_skull_tier_1
	        				# new_artifact = {
	        					# set_name = saint_skull_1_name
	        				# }
							# add_artifact = saintly_finger
	        				# new_artifact = {
	        					# set_name = saint_finger_name
	        				# }
	        			# }
	        		# }
	        		event_target:target_burial_site = {
	        			remove_province_modifier = tomb_of_a_hero
	        			add_province_modifier = {
	        				name = pillaged_tomb_of_a_hero
	        				duration = -1
	        			}
	        		}
	        		event_target:offended_burial_site_owner = {
	        			character_event = { id = fka.13 }
	        		}
        		}
        		scaled_wealth = { value = 0.3 min = 50 max = 200 }
        	}
        	30 = {
        		imprison = event_target:offended_burial_site_owner 
        		event_target:offended_burial_site_owner = {
        			character_event = { id = fka.12 }
        		}
        	}
        }
    }
    #Grab everything
    option = {      
        name = EVTOPTBFKA11
        random_list = {
        	30 = {
        		modifier = {
					factor = 1.5
					intrigue = 10 
        		}
        		modifier = {
        			factor = 2
        			intrigue = 15
        		}
        		custom_tooltip = { text = EVTOPTBFKA11_TT }
        		hidden_tooltip = {
        			# random_list = {
        				# 10 = {
							# add_artifact = saintly_bone
	        				# new_artifact = {
	        					# set_name = saint_bone_name
	        				# }
	        				# add_artifact = saintly_finger
	        				# new_artifact = {
	        					# set_name = saint_finger_name
	        				# }
        				# }
        				# 20 = {
	        				# add_artifact = saintly_skull_tier_1
	        				# new_artifact = {
	        					# set_name = saint_skull_1_name
	        				# }
	        				# add_artifact = saintly_finger
	        				# new_artifact = {
	        					# set_name = saint_finger_name
	        				# }
        				# }
        				# 10 = {
        					# add_artifact = saintly_skull_tier_2
        					# new_artifact = {
        						# set_name = saint_skull_2_name
        					# }
							# add_artifact = saintly_bone
	        				# new_artifact = {
	        					# set_name = saint_bone_name
	        				# }
        				# }
        				# 3 = {
        					# add_artifact = saintly_tongue
        					# new_artifact = {
        						# set_name = saint_tongue_name
        					# }
	        				# add_artifact = saintly_skull_tier_1
	        				# new_artifact = {
	        					# set_name = saint_skull_1_name
	        				# }
        				# }
        			# }
	        		event_target:target_burial_site = {
	        			remove_province_modifier = tomb_of_a_hero
	        			add_province_modifier = {
	        				name = pillaged_tomb_of_a_hero
	        				duration = -1
	        			}
	        		}
	        		event_target:offended_burial_site_owner = {
	        			character_event = { id = fka.13 }
	        		}
        		}
        		scaled_wealth = { value = 0.8 min = 150 max = 500 }
        	}
        	70 = {
        		imprison = event_target:offended_burial_site_owner 
          		event_target:offended_burial_site_owner = {
        			character_event = { id = fka.12 }
        		}
        	}
        }
    }
}

#Imprisoned event
character_event = {
    id = fka.12
    desc = EVTDESCFKA12
    picture = GFX_evt_raiding_greek_tomb
    is_triggered_only = yes
    has_dlc = "Holy Fury"

    option = {      
        name = EVTOPTAFKA12
    }
}

#Notification about pillaged Saintly Burial Site
character_event = {
    id = fka.13
    desc = EVTDESCFKA13
    picture = GFX_evt_raiding_greek_tomb
    is_triggered_only = yes
    notification = yes
    has_dlc = "Holy Fury"

    option = {
    	name = OK
    }
}

#Burial site pillaged by others
character_event = {
    id = fka.14
    desc = EVTDESCFKA14
    picture = GFX_evt_burning_cities
    only_playable = yes
    min_age = 16
    is_triggered_only = yes
    has_dlc = "Holy Fury"
    trigger = {
    	NOT = {
    		religion_group = hellenic
    		has_character_flag = recent_potential_tomb_pillaging
    	}
    	FROM = {
            location = {
    	       has_province_modifier = tomb_of_a_hero
            }
    	}
    }

    immediate = {
    	FROM = {
    		owner = {
    			save_event_target_as = pillaged_hellenic
    		}
    	}
    }

    option = {      
        name = EVTOPTAFKA14
        scaled_wealth = { value = 1.2 min = 150 max = 500 }
        hidden_tooltip = {
            FROM = {
                location = {
    	        	remove_province_modifier = tomb_of_a_hero
    	        	add_province_modifier = {
    	        		name = pillaged_tomb_of_a_hero
    	        		duration = -1
    	        	}
                }
	        	character_event = { id = fka.13 }
	        }
        }
    }
    option = {      
        name = EVTOPTBFKA14
        piety = 50
        set_character_flag = recent_potential_tomb_pillaging
        character_event = { id = fka.15 days = 1095 }
    }
}

character_event = {
    id = fka.15
    hide_window = yes
    is_triggered_only = yes
    has_dlc = "Holy Fury"
    immediate = {
    	clr_character_flag = recent_potential_tomb_pillaging
    }
}

#Seek out Saintly Burial Site (From Pilgrimage)
character_event = {
    id = fka.16
    desc = EVTDESCFKA16
	picture = GFX_evt_visiting_greece_tomb
	border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
    	religion_group = pantes_theoi
    }

    immediate = {
    	random_province = {
    		limit = {
    			OR = {
    				has_province_modifier = tomb_of_a_hero
    				has_province_modifier = pillaged_tomb_of_a_hero
    			}
                NOT = {
                    owner = {
                        same_realm = ROOT
                    }
                }
    		}
    		save_event_target_as = first_burial_site
    		set_province_flag = first_burial
    	}
    	random_province = {
    		limit = {
    			OR = {
    				has_province_modifier = tomb_of_a_hero
    				has_province_modifier = pillaged_tomb_of_a_hero
    			}
    			NOT = {
    				has_province_flag = first_burial
                    owner = {
                        same_realm = ROOT
                    }
    			}
    		}
    		save_event_target_as = second_burial_site
    		set_province_flag = second_burial
    	}
    	random_province = {
    		limit = {
    			OR = {
    				has_province_modifier = tomb_of_a_hero
    				has_province_modifier = pillaged_tomb_of_a_hero
    			}
    			NOR = {
    				has_province_flag = first_burial
    				has_province_flag = second_burial
                    owner = {
                        same_realm = ROOT
                    }
    			}
    		}
    		save_event_target_as = third_burial_site
    		set_province_flag = third_burial
    	}
    	random_province = {
    		limit = {
    			OR = {
    				has_province_modifier = tomb_of_a_hero
    				has_province_modifier = pillaged_tomb_of_a_hero
    			}
    			NOR = {
    				has_province_flag = first_burial
    				has_province_flag = second_burial
    				has_province_flag = third_burial
                    owner = {
                        same_realm = ROOT
                    }
    			}
    		}
    		save_event_target_as = fourth_burial_site
    		set_province_flag = fourth_burial
    	}
    }

	#First Random Burial
    option = {      
        name = EVTOPTAFKA16_1
        name = EVTOPTAFKA16_2
        name = EVTOPTAFKA16_3

        trigger = {
            event_target:first_burial_site = {
                has_province_flag = first_burial
            }
        }

        event_target:first_burial_site = {
            save_event_target_as = pilgrimage_destination
        }
        hidden_tooltip = {
            set_variable = { which = "pilgrimage_person" value = 1 }
        }

    	#Cold Areas
    	# if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_europe_north 
    				# }
                    # event_target:first_burial_site = {
                        # region = custom_russia
                    # }
    			# }
    		# }
    		# character_event = { id = HF.41310 days = 15}
            # set_character_flag = cold_saintly_pilgrimage
    	# }
    	#Mild Areas
    	# else_if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_europe_west_francia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_europe_west_iberia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_europe_south
    				# }
    			# }
    		# }
    		# character_event = { id = HF.41312 days = 15}
            # set_character_flag = mild_saintly_pilgrimage
    	# }
    	#Exotic
    	# else_if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_asia_minor
    				# }
    				# event_target:first_burial_site = {
    					# region = world_middle_east_jerusalem 
    				# }
    				# event_target:first_burial_site = {
    					# region = world_middle_east_arabia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_africa_north
    				# }
    				# event_target:first_burial_site = {
    					# region = world_africa_east
    				# }
    			# }
    		# }
    		# character_event = { id = HF.41314 days = 15 }
            # set_character_flag = exotic_saintly_pilgrimage
    	# }
    	##Generic
    	# else = {
    		character_event = { id = fka.17 days = 15 }
            set_character_flag = generic_saintly_pilgrimage
    	# }
        event_target:first_burial_site = {
            clr_province_flag = first_burial
        }
        event_target:second_burial_site = {
            clr_province_flag = second_burial
        }
        event_target:third_burial_site = {
            clr_province_flag = third_burial
        }
        event_target:fourth_burial_site = {
            clr_province_flag = fourth_burial
        }
    }

	#Second Random Burial
    option = {      
        name = EVTOPTBFKA16_1
        name = EVTOPTBFKA16_2
        name = EVTOPTBFKA16_3

        trigger = {
            event_target:second_burial_site = {
                has_province_flag = second_burial
            }
        }

        event_target:second_burial_site = {
            save_event_target_as = pilgrimage_destination
        }
        hidden_tooltip = {
            set_variable = { which = "pilgrimage_person" value = 1 }
        }

    	#Cold Areas
    	# if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_europe_north 
    				# }
                    # event_target:first_burial_site = {
                        # region = custom_russia
                    # }
    			# }
    		# }
    		# character_event = { id = HF.41310 days = 15}
            # set_character_flag = cold_saintly_pilgrimage
    	# }
    	#Mild Areas
    	# else_if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_europe_west_francia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_europe_west_iberia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_europe_south
    				# }
    			# }
    		# }
    		# character_event = { id = HF.41312 days = 15}
            # set_character_flag = mild_saintly_pilgrimage
    	# }
    	#Exotic
    	# else_if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_asia_minor
    				# }
    				# event_target:first_burial_site = {
    					# region = world_middle_east_jerusalem 
    				# }
    				# event_target:first_burial_site = {
    					# region = world_middle_east_arabia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_africa_north
    				# }
    				# event_target:first_burial_site = {
    					# region = world_africa_east
    				# }
    			# }
    		# }
    		# character_event = { id = HF.41314 days = 15 }
            # set_character_flag = exotic_saintly_pilgrimage
    	# }
    	##Generic
    	# else = {
    		character_event = { id = fka.17 days = 15 }
            set_character_flag = generic_saintly_pilgrimage
    	# }
        event_target:first_burial_site = {
            clr_province_flag = first_burial
        }
        event_target:second_burial_site = {
            clr_province_flag = second_burial
        }
        event_target:third_burial_site = {
            clr_province_flag = third_burial
        }
        event_target:fourth_burial_site = {
            clr_province_flag = fourth_burial
        }
    }

	#Third Random Burial
    option = {      
        name = EVTOPTCFKA16_1
        name = EVTOPTCFKA16_2
        name = EVTOPTCFKA16_3

        trigger = {
            event_target:third_burial_site = {
                has_province_flag = third_burial
            }
        }

        event_target:third_burial_site = {
            save_event_target_as = pilgrimage_destination
        }
        hidden_tooltip = {
            set_variable = { which = "pilgrimage_person" value = 1 }
        }

    	#Cold Areas
    	# if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_europe_north 
    				# }
                    # event_target:first_burial_site = {
                        # region = custom_russia
                    # }
    			# }
    		# }
    		# character_event = { id = HF.41310 days = 15}
            # set_character_flag = cold_saintly_pilgrimage
    	# }
    	#Mild Areas
    	# else_if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_europe_west_francia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_europe_west_iberia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_europe_south
    				# }
    			# }
    		# }
    		# character_event = { id = HF.41312 days = 15}
            # set_character_flag = mild_saintly_pilgrimage
    	# }
    	#Exotic
    	# else_if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_asia_minor
    				# }
    				# event_target:first_burial_site = {
    					# region = world_middle_east_jerusalem 
    				# }
    				# event_target:first_burial_site = {
    					# region = world_middle_east_arabia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_africa_north
    				# }
    				# event_target:first_burial_site = {
    					# region = world_africa_east
    				# }
    			# }
    		# }
    		# character_event = { id = HF.41314 days = 15 }
            # set_character_flag = exotic_saintly_pilgrimage
    	# }
    	##Generic
    	# else = {
    		character_event = { id = fka.17 days = 15 }
            set_character_flag = generic_saintly_pilgrimage
    	# }
        event_target:first_burial_site = {
            clr_province_flag = first_burial
        }
        event_target:second_burial_site = {
            clr_province_flag = second_burial
        }
        event_target:third_burial_site = {
            clr_province_flag = third_burial
        }
        event_target:fourth_burial_site = {
            clr_province_flag = fourth_burial
        }
    }
   
	#Fourth Random Burial
    option = {     
        name = EVTOPTDFKA16_1
        name = EVTOPTDFKA16_2
        name = EVTOPTDFKA16_3

        trigger = {
            event_target:fourth_burial_site = {
                has_province_flag = fourth_burial
            }
        }

        event_target:fourth_burial_site = {
            save_event_target_as = pilgrimage_destination
        }
        hidden_tooltip = {
            set_variable = { which = "pilgrimage_person" value = 1 }
        }

    	#Cold Areas
    	# if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_europe_north 
    				# }
                    # event_target:first_burial_site = {
                        # region = custom_russia
                    # }
    			# }
    		# }
    		# character_event = { id = HF.41310 days = 15}
            # set_character_flag = cold_saintly_pilgrimage
    	# }
    	#Mild Areas
    	# else_if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_europe_west_francia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_europe_west_iberia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_europe_south
    				# }
    			# }
    		# }
    		# character_event = { id = HF.41312 days = 15}
            # set_character_flag = mild_saintly_pilgrimage
    	# }
    	#Exotic
    	# else_if = {
    		# limit = {
    			# OR = {
    				# event_target:first_burial_site = {
    					# region = world_asia_minor
    				# }
    				# event_target:first_burial_site = {
    					# region = world_middle_east_jerusalem 
    				# }
    				# event_target:first_burial_site = {
    					# region = world_middle_east_arabia
    				# }
    				# event_target:first_burial_site = {
    					# region = world_africa_north
    				# }
    				# event_target:first_burial_site = {
    					# region = world_africa_east
    				# }
    			# }
    		# }
    		# character_event = { id = HF.41314 days = 15 }
            # set_character_flag = exotic_saintly_pilgrimage
    	# }
    	##Generic
    	# else = {
    		character_event = { id = fka.17 days = 15 }
            set_character_flag = generic_saintly_pilgrimage
    	# }
        event_target:first_burial_site = {
            clr_province_flag = first_burial
        }
        event_target:second_burial_site = {
            clr_province_flag = second_burial
        }
        event_target:third_burial_site = {
            clr_province_flag = third_burial
        }
        event_target:fourth_burial_site = {
            clr_province_flag = fourth_burial
        }
    }    
}

#Journey to generic climate begins
character_event = {
    id = fka.17
    desc = EVTDESCFKA17
    picture = GFX_evt_pilgrims_epic_journey
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
        religion_group = hellenic
    }
    fail_trigger_effect = {
        character_event = { id = HF.41480 }
    }

    option = {      
        name = EVTOPTAFKA17
        hidden_tooltip = {
            random_list = {
                50 = {
                    character_event = { id = fka.18 days = 15 }
                }
                50 = {
                    character_event = { id = fka.19 days = 15 }
                }
            }
        }
        add_trait = on_pilgrimage
    }
}

#Come across fellow travellers
character_event = {
    id = fka.18
    desc = {
        trigger = {
            check_variable = { which = "pilgrimage_person" value == 1 }
        }
        text = EVTDESCFKA18
    }
    desc = {
        trigger = {
            check_variable = { which = "pilgrimage_person" value == 2 }
        }
        text = EVTDESCFKA18_ALT
    }
    desc = {
        trigger = {
            check_variable = { which = "pilgrimage_person" value == 3 }
        }
        text = EVTDESCFKA18_ALT_2
    }    
    desc = {
        trigger = {
            check_variable = { which = "pilgrimage_person" value == 4 }
        }
        text = EVTDESCFKA18_ALT_3
    }    
    picture = GFX_evt_riders_night_hf
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
    	religion_group = hellenic
    }
    fail_trigger_effect = {
    	character_event = { id = HF.41480 }
    }

    #Travel together
    option = {      
        name = EVTOPTAFKA18
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41350 days = 30 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41352 days = 30 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41354 days = 30 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.20 days = 30}
            }
        }
        if = {
        	limit = {
        		trait = shy
        	}
        	remove_trait = shy
            character_event = { id = 38295 }
        }
        else_if = {
        	limit = {
        		NOT = {
        			trait = gregarious
        		}
        	}
        	add_trait = gregarious
            character_event = { id = 38265 }
        }
    }

    #A true pilgrim travels alone
    option = {      
        name = EVTOPTBFKA18
        change_martial = 1
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41350 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41352 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41354 days = 15 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.20 days = 15}
            }
        }
        random = {
        	chance = 50
    		if = {
    			limit = {
    				trait = gregarious
    			}
    			remove_trait = gregarious
                character_event = { id = 38297}

    		}
    		else_if = {
    			limit = {
    				NOT = {
    					trait = shy
    				}
    			}
    			add_trait = shy
                character_event = { id = 38263 }
    		}
        }

    }
}

#Come across bandits
character_event = {
    id = fka.19
    desc = EVTDESCFKA19
    picture = GFX_evt_bandits
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
    	religion_group = hellenic
    }
    fail_trigger_effect = {
    	character_event = { id = HF.41480 }
    }

    #Pay for passage
    option = {      
        name = EVTOPTAFKA19
        prestige = -50
        wealth = -100
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41350 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41352 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41354 days = 15 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.20 days = 15}
            }        
        }
    }
    #Fight your way out of it
    option = {      
        name = EVTOPTBFKA19
        prestige = 100
        random_list = {
        	60 = {
                add_character_modifier = {
                    name = repelled_bandits
                    duration = 1825
                }
        	}
        	30 = {
                modifier = {
                    factor = 0.5   
                    combat_rating >= 20
                }
                modifier = {
                    factor = 2
                    combat_rating <= -10
                }
                modifier = {
                    factor = 2
                    combat_rating <= -30
                }
        		add_trait = wounded
                character_event = { id = 38280 }
        	}
        	9 = {
                modifier = {
                    factor = 0.5
                    combat_rating >= 20
                }
                modifier = {
                    factor = 2
                    combat_rating <= -10
                }
                modifier = {
                    factor = 2
                    combat_rating <= -30
                }
        		add_trait = maimed
                character_event = { id = 38281 }
        	}
        	1 = {
                modifier = {
                    factor = 0
                    combat_rating >= 20
                }
                modifier = {
                    factor = 2
                    combat_rating <= -10
                }
                modifier = {
                    factor = 2
                    combat_rating <= -30
                }
        		death = {
        			death_reason = death_battle
        		}	
        	}
        }
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41350 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41352 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41354 days = 15 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.20 days = 15}
            }        
        }
    }
}

#Getting closer #Generic
character_event = {
    id = fka.20
    desc = EVTDESCFKA20
    picture = GFX_evt_pilgrims_epic_journey
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
        religion_group = hellenic
    }
    fail_trigger_effect = {
        character_event = { id = HF.41480 }
    }

    option = {      
        name = EVTOPTAFKA20
        hidden_tooltip = {
            random_list = {
                66 = {
                    character_event = { id = fka.21 days = 15 }
                }
                66 = {
                    character_event = { id = fka.22 days = 15 }
                }
                66 = {
                    character_event = { id = fka.23 days = 15 }
                }
                # 1 = {
                    # character_event = { id = HF.41410 days = 15 }
                # }
            }
        }  
    }
}

#Coming across a Caravan of entertainers
character_event = {
    id = fka.21
    desc = {
        trigger = {
            NOT = {
                trait = homosexual
            }
        }
        text = EVTDESCFKA21
    }

    desc = {
        trigger = {
            trait = homosexual
        }
        text = EVTDESCFKA21_ALT
    }
    picture = GFX_evt_greek_performace
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
        religion_group = hellenic
    }
    fail_trigger_effect = {
        character_event = { id = HF.41480 }
    }

    #Maybe I should join him/her for the night ..
    option = {      
        name = EVTOPTAFKA21
        if = {
            limit = {
                trait = chaste
            }
            remove_trait = chaste
            character_event = { id = 38303 }
        }
        else_if = {
            limit = {
                NOT = {
                    trait = lustful
                }
            }
            add_trait = lustful
            character_event = { id = 38272}
        }
        add_character_modifier = {
            name = good_times
            duration = 120
        }
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41419 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41424 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41429 days = 15 }
            # }
           if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.24 days = 15 }
            }
        }
    }
    #I will not be tainted by thy body!!
    option = {      
        name = EVTOPTBFKA21
        if = {
            limit = {
                trait = lustful
            }
            remove_trait = lustful
        }
        else_if = {
            limit = {
                NOT = {
                    trait = chaste
                }
            }
            add_trait = chaste
            character_event = { id = 38274 }
        }
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41419 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41424 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41429 days = 15 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.24 days = 15 }
            }
        }
    }
}

#Inn burning down
character_event = {
    id = fka.22
    desc = EVTDESCFKA22
    picture = GFX_evt_burning_cities
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
        religion_group = hellenic
    }
    fail_trigger_effect = {
        character_event = { id = HF.41480 }
    }

    #God calls upon me to help out!
    option = {      
        name = EVTOPTAFKA22
        prestige = 50
        wealth = -50
        if = {
            limit = {
                trait = greedy
            }
            remove_trait = greedy
        }
        else_if = {
            limit = {
                NOT = {
                    trait = charitable
                }
            }
            add_trait = charitable
            character_event = { id = 38273 }
        }
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41419 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41424 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41429 days = 15 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.24 days = 15 }
            }
        }
    }
    #God calls upon me to move on!
    option = {      
        name = EVTOPTBFKA22
        prestige = -25
        if = {
            limit = {
                trait = honest
                trait = zealous
            }
        }
        else_if = {
            limit = {
                trait = honest
            }
            remove_trait = honest
            character_event = { id = 38311 }
        }
        else_if = {
            limit = {
                NOT = {
                    trait = deceitful
                }
            }
            add_trait = deceitful
            character_event = { id = 38255 }
        }
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41419 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41424 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41429 days = 15 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.24 days = 15 }
            }
        }
    }
    #God calls upon me to see if I can find something valuable!
    option = {
        name = EVTOPTCFKA22
        prestige = -50
        wealth = 50
        if = {
            limit = {
                trait = charitable
            }
            remove_trait = charitable
        }
        else_if = {
            limit = {
                NOT = {
                    trait = greedy
                }
            }
            add_trait = greedy
            character_event = { id = 38252 }
        }
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41419 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41424 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41429 days = 15 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.24 days = 15 }
            }
        }
    }
}

#Coming across a temple in the rain 
character_event = {
    id = fka.23
    desc = EVTDESCFKA23
    picture = GFX_evt_rundown_greek_temple
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
        religion_group = hellenic
    }
    fail_trigger_effect = {
        character_event = { id = HF.41480 }
    }

    #Stay
    option = {     
        name = EVTOPTAFKA23
        add_character_modifier = {
            name = good_nights_sleep
            duration = 180
        }
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41419 days = 30 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41424 days = 30 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41429 days = 30 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.24 days = 30 }
            }
        }
    }
    #Continue through the rain
    option = {      
        name = EVTOPTBFKA23
        prestige = 50
        if = {
            limit = {
                trait = cynical
            }
            remove_trait = cynical 
        }
        else_if = {
            limit = {
                NOT = {
                    trait = zealous
                }
            }
            add_trait = zealous
            character_event = { id = 38269 }
        }
        random = {
            chance = 20 
            if = {
                limit = {
                    NOT = {
                        has_dlc = "Reapers"
                    }
                }
                give_ill_effect = yes
            }
            else = {
                give_flu_effect = yes
            }
            custom_tooltip = { text = EVTTOOLTIPFKA23_TT }
        }
        hidden_tooltip = {
            # if = {
                # limit = {
                    # has_character_flag = cold_saintly_pilgrimage
                # }
                # character_event = { id = HF.41419 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = mild_saintly_pilgrimage
                # }
                # character_event = { id = HF.41424 days = 15 }
            # }
            # else_if = {
                # limit = {
                    # has_character_flag = exotic_saintly_pilgrimage
                # }
                # character_event = { id = HF.41429 days = 15 }
            # }
            if = {
                limit = {
                    has_character_flag = generic_saintly_pilgrimage
                }
                character_event = { id = fka.24 days = 15}
            }
        }
    }
}

#Finally there #Generic
character_event = {
    id = fka.24
    desc = EVTDESCFKA24
    picture = GFX_evt_busy_market
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
        religion_group = hellenic
    }
    fail_trigger_effect = {
        character_event = { id = HF.41480 }
    }

    option = {      
        name = EVTOPTAFKA24
        hidden_tooltip = {
            character_event = { id = fka.25 days = 15 }
        }
    }
}

#Thoughts about burial site #Generic
character_event = {
    id = fka.25
    desc = {
        text = EVTDESCFKA25_A
    }
    desc = {
        text = EVTDESCFKA25_B
    }
    desc = {
        text = EVTDESCFKA25_C
    }  
    picture = GFX_evt_icon
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
        religion_group = hellenic
    }
    fail_trigger_effect = {
        character_event = { id = HF.41480 }
    }

    #The burial site is as impressive as I had hoped for
    option = {      
        name = EVTOPTAFKA25
        trigger = {
            trait = zealous
        }
        piety = 25
        hidden_tooltip = {
            character_event = { id = fka.26 days = 60}
        }
    }
    #Not that impressive
    option = {      
        name = EVTOPTBFKA25
        trigger = {
            trait = cynical 
        }
        piety = -10
        hidden_tooltip = {
            character_event = { id = fka.26 days = 60}
        }
    }
    #What a journey
    option = {
        name = EVTOPTCFKA25
        trigger = {
            NOR = {
                trait = cynical
                trait = zealous
            }
        }
        piety = 15
        hidden_tooltip = {
            character_event = { id = fka.26 days = 60}
        }
    }
}

#Can see home once more!
character_event = {
    id = fka.26
    desc = EVTDESCFKA26
    picture = GFX_evt_ancient_garden
    border = GFX_event_normal_frame_religion
    is_triggered_only = yes
    trigger = {
    	religion_group = hellenic
    }
    fail_trigger_effect = {
    	character_event = { id = HF.41480 }
    }

    immediate = {
        if = {
            limit = { 
                ai = no
                NOT = { has_character_flag = achievement_pilgrim }
            }
            set_character_flag = achievement_pilgrim
        }
    }

    option = {      
        name = EVTOPTAFKA26
        remove_trait = on_pilgrimage
        add_trait = pilgrim

        # if = {
            # limit = {
                # has_quest = quest_monastic_order_pilgrimage_christian
            # }
            # character_event = { id = MNM.4020 days = 1}
        # }
        
        hidden_effect = {
            clr_character_flag = do_not_disturb
            clr_character_flag = pilgrimage_to_canterbury
            clr_character_flag = pilgrimage_to_jerusalem
            clr_character_flag = pilgrimage_to_koln
            clr_character_flag = pilgrimage_to_rome
            clr_character_flag = pilgrimage_to_santiago
            clr_character_flag = pilgrimage_to_constantinople
            clr_character_flag = pilgrimage_to_axum
            clr_character_flag = pilgrimage_to_antioch
            clr_character_flag = abominable_pilgrimage
            clr_character_flag = preparing_pilgrimage
            clr_character_flag = activated_pilgrimage
            clr_character_flag = cold_saintly_pilgrimage
            clr_character_flag = mild_saintly_pilgrimage
            clr_character_flag = exotic_saintly_pilgrimage
            clr_character_flag = generic_saintly_pilgrimage
        }
    }
}



#Setting up Heroic Burial Site in a province
province_event = {
	id = fka.99
	hide_window = yes
	is_triggered_only = yes
    has_dlc = "Holy Fury"

	immediate = {
		add_province_modifier = {
			name = tomb_of_a_hero
			duration = -1
		}
	}
}


