namespace = fkp

#Hittite (Ishalitethai) Pantheon
character_event = {
	id = fkp.1
	desc = EVTDESCFKP1
	is_triggered_only = yes
	portrait = 1000000
	
	option = {
		name = OK
	}
}

####Boon Events
#Given Boon
character_event = { 
	id = fkp.100
	desc = EVTDESCFKP100
	is_triggered_only = yes
	
	option = {
		name = opta_excellent
		apply_random_boon_effect = yes
	}
}

#Denied Boon
character_event = { 
	id = fkp.101
	desc = EVTDESCFKP101
	is_triggered_only = yes
	
	option = {
		name = opta_disappointing
		add_character_modifier = {
			modifier = denied_boon
			years = 5
		}
	}
}

####Sacrifice Events
#Choosing sacrifice type
character_event = {
	id = fkp.200
	desc = EVTDESCFKP200
	is_triggered_only = yes 
	
	immediate = {
		FROM = {
			save_event_target_as = target_god
		}
	}
	
	option = { #Small sacrifice
		name = EVTOPTAFKP200
		
		wealth = -50
		character_event = { id = fkp.201 }
		set_character_flag = small_sacrifice
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				trait = zealous
			}
			modifier = {
				factor = 2
				trait = greedy
			}
		}
	}
	option = { #Medium sacrifice
		name = EVTOPTBFKP200
		
		wealth = -250
		character_event = { id = fkp.201 }
		set_character_flag = medium_sacrifice
		ai_chance = {
			factor = 35
		}
	}
	option = { #Large sacrifice
		name = EVTOPTCFKP200
		
		wealth = -500
		character_event = { id = fkp.201 }
		set_character_flag = large_sacrifice
		ai_chance = {
			factor = 35
			modifier = {
				factor = 0
				trait = greedy
			}
		}
	}
}

#Choose if you're going to do the actual sacrifice
character_event = {
	id = fkp.201
	desc = EVTDESCFKP201
	is_triggered_only = yes
	
	option = { #Yes
		name = EVTOPTAFKP201
		piety = 100
		hidden_tooltip = {
			random_list = {
				40 = { #Do Well
					character_event = { id = fkp.202 }
					modifier = {
						factor = 1.5
						OR = {
							trait = mastermind_theologian
							trait = erudite
							learning = 12
						}
					}
				}
				60 = { #Do Poorly
					character_event = { id = fkp.203 }
					modifier = {
						factor = 1.2
						OR = {
							trait = dull
							learning < 10
							has_character_flag = medium_sacrifice
						}
					}
					modifier = {
						factor = 1.5
						OR = {
							trait = inbred
							trait = slow
							trait = imbecile
							has_character_flag = large_sacrifice
							learning < 10
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 30
			modifier = {
				factor = 1.2
				OR = {
					trait = proud
					learning = 12
				}
			}
		}
	}
	option = { #No
		name = EVTOPTBFKP201
		hidden_tooltip = {
			random_list = {
				60 = { #Do Well
					character_event = { id = fkp.204 }
					modifier = {
						factor = 1.5
						OR = {
							trait = scholarly_theologian
							trait = mastermind_theologian
							trait = erudite
							learning = 12
						}
					}
					modifier = {
						factor = 1.2
						has_character_flag = medium_sacrifice
					}
					modifier = {
						factor = 1.3
						OR = {
							trait = dull
							has_character_flag = large_sacrifice
							learning < 10
						}
					}
				}
				40 = { #Do Poorly
					character_event = { id = fkp.205 }
					modifier = {
						factor = 1.5
						OR = {
							trait = inbred
							trait = slow
							trait = imbecile
							learning < 10
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 70
		}
	}
}

#Do Well in Sacrifice Self
character_event = {
	id = fkp.202
	desc = EVTDESCFKP202
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKP202
		prestige = 50
		if = {
			limit = {
				has_character_flag = small_sacrifice
			}
			piety = 30
			reverse_opinion = {
				modifier = opinion_small_sacrifice
				who = event_target:target_god
			}
		}
		if = {
			limit = {
				has_character_flag = medium_sacrifice
			}
			piety = 50
			reverse_opinion = {
				modifier = opinion_medium_sacrifice
				who = event_target:target_god
			}
		}
		if = {
			limit = {
				has_character_flag = large_sacrifice
			}
			piety = 100
			reverse_opinion = {
				modifier = opinion_large_sacrifice
				who = event_target:target_god
			}
		}
	}
}

#Do Poorly in Sacrifice Self
character_event = {
	id = fkp.203
	desc = EVTDESCFKP203
	is_triggered_only = yes
	
	option = {
		prestige = -50
		name = EVTOPTAFKP203
		add_character_modifier = {
			modifier = made_sacrifice
			years = 2
		}
		if = {
			limit = {
				has_character_flag = small_sacrifice
			}
			piety = -30
			reverse_opinion = {
				modifier = opinion_small_sacrifice_fail
				who = event_target:target_god
			}
		}
		if = {
			limit = {
				has_character_flag = medium_sacrifice
			}
			piety = -50
			reverse_opinion = {
				modifier = opinion_medium_sacrifice_fail
				who = event_target:target_god
			}
		}
		if = {
			limit = {
				has_character_flag = large_sacrifice
			}
			piety = -100
			reverse_opinion = {
				modifier = opinion_large_sacrifice_fail
				who = event_target:target_god
			}
		}
		clr_character_flag = small_sacrifice
		clr_character_flag = medium_sacrifice
		clr_character_flag = large_sacrifice
	}
}

#Do Well in Sacrifice
character_event = {
	id = fkp.204
	desc = EVTDESCFKP204
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKP204
		if = {
			limit = {
				has_character_flag = small_sacrifice
			}
			piety = 30
			reverse_opinion = {
				modifier = opinion_small_sacrifice
				who = event_target:target_god
			}
		}
		if = {
			limit = {
				has_character_flag = medium_sacrifice
			}
			piety = 50
			reverse_opinion = {
				modifier = opinion_medium_sacrifice
				who = event_target:target_god
			}
		}
		if = {
			limit = {
				has_character_flag = large_sacrifice
			}
			piety = 100
			reverse_opinion = {
				modifier = opinion_large_sacrifice
				who = event_target:target_god
			}
		}
	}
}

#Do Poorly in Sacrifice
character_event = {
	id = fkp.205
	desc = EVTDESCFKP205
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKP205
		add_character_modifier = {
			modifier = made_sacrifice
			years = 2
		}
		if = {
			limit = {
				has_character_flag = small_sacrifice
			}
			piety = -30
			reverse_opinion = {
				modifier = opinion_small_sacrifice_fail
				who = event_target:target_god
			}
		}
		if = {
			limit = {
				has_character_flag = medium_sacrifice
			}
			piety = -50
			reverse_opinion = {
				modifier = opinion_medium_sacrifice_fail
				who = event_target:target_god
			}
		}
		if = {
			limit = {
				has_character_flag = large_sacrifice
			}
			piety = -100
			reverse_opinion = {
				modifier = opinion_large_sacrifice_fail
				who = event_target:target_god
			}
		}
		clr_character_flag = small_sacrifice
		clr_character_flag = medium_sacrifice
		clr_character_flag = large_sacrifice
	}
}