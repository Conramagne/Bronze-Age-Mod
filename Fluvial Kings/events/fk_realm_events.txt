namespace = fkr

#Removes special modifiers for provinces of your culture
character_event = {
	id = fkr.1
	hide_window = yes
	trigger = {
		independent = yes
		any_realm_province = {
			culture = ROOT
			OR = {
				has_province_modifier = oppressive_rule
				has_province_modifier = autonomous_rule
				has_province_modifier = tax_tribute
				has_province_modifier = levy_tribute
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_realm_province = {
			limit = {
				culture = ROOT
			}
			remove_province_modifier = oppressive_rule
			remove_province_modifier = autonomous_rule
			remove_province_modifier = tax_tribute
			remove_province_modifier = levy_tribute
		}
	}
}

#Removes Oppressive Rule if one lacks the law
character_event = {
	id = fkr.2
	hide_window = yes
	trigger = {
		independent = yes
		NOT = {
			has_law = foreigner_law_0
		}
		any_realm_province = {
			has_province_modifier = oppressive_rule
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_realm_province = {
			remove_province_modifier = oppressive_rule
		}
		
		if = {
			limit = {
				has_law = foreigner_law_2
			}
			any_realm_province = {
				limit = {
					NOT = {
						culture = ROOT
					}
				}
				add_province_modifier = {
					name = autonomous_rule
					duration = -1
				}
			}
		}
	}
}

#Removes Autonomous Rule if one lacks the law
character_event = {
	id = fkr.3
	hide_window = yes
	trigger = {
		independent = yes
		NOT = {
			has_law = foreigner_law_2
		}
		any_realm_province = {
			has_province_modifier = autonomous_rule
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_realm_province = {
			remove_province_modifier = autonomous_rule
		}
		
		if = {
			limit = {
				has_law = foreigner_law_0
			}
			any_realm_province = {
				limit = {
					NOT = {
						culture = ROOT
					}
				}
				add_province_modifier = {
					name = oppressive_rule
					duration = -1
				}
			}
		}
	}
}

#Removes Tax Tribute if one lacks the law
character_event = {
	id = fkr.4
	hide_window = yes
	trigger = {
		independent = yes
		NOT = {
			has_law = tribute_law_0
		}
		any_realm_province = {
			has_province_modifier = tax_tribute
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_realm_province = {
			remove_province_modifier = tax_tribute
		}
		
		if = {
			limit = {
				has_law = tribute_law_2
			}
			any_realm_province = {
				limit = {
					NOT = {
						culture = ROOT
					}
				}
				add_province_modifier = {
					name = levy_tribute
					duration = -1
				}
			}
		}
	}
}

#Removes Levy Tribute if one lacks the law
character_event = {
	id = fkr.5
	hide_window = yes
	trigger = {
		independent = yes
		NOT = {
			has_law = tribute_law_2
		}
		any_realm_province = {
			has_province_modifier = levy_tribute
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_realm_province = {
			remove_province_modifier = levy_tribute
		}
		
		if = {
			limit = {
				has_law = tribute_law_0
			}
			any_realm_province = {
				limit = {
					NOT = {
						culture = ROOT
					}
				}
				add_province_modifier = {
					name = tax_tribute
					duration = -1
				}
			}
		}
	}
}

#Removes Autonomous Rule and adds Oppresive Rule
character_event = {
	id = fkr.6
	hide_window = yes
	trigger = {
		independent = yes
		has_law = foreigner_law_0
		any_realm_province = {
			NOT = {
				culture = ROOT
				has_province_modifier = oppressive_rule
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_realm_province = {
			limit = {
				NOT = {
					culture = ROOT
				}
			}
			add_province_modifier = {
				name = oppressive_rule
				duration = -1
			}
			remove_province_modifier = autonomous_rule
		}
	}
}

#Removes Oppresive Rule and adds Autonomous Rule
character_event = {
	id = fkr.7
	hide_window = yes
	trigger = {
		independent = yes
		has_law = foreigner_law_2
		any_realm_province = {
			NOT = {
				culture = ROOT
				has_province_modifier = autonomous_rule
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_realm_province = {
			limit = {
				NOT = {
					culture = ROOT
				}
			}
			add_province_modifier = {
				name = autonomous_rule
				duration = -1
			}
			remove_province_modifier = oppressive_rule
		}
	}
}

#Removes Levy Tribute and adds Tax Tribute
character_event = {
	id = fkr.8
	hide_window = yes
	trigger = {
		independent = yes
		has_law = tribute_law_0
		any_realm_province = {
			NOT = {
				culture = ROOT
				has_province_modifier = tax_tribute
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_realm_province = {
			 limit = {
				NOT = {
					culture = ROOT
				}
			}
			add_province_modifier = {
				name = tax_tribute
				duration = -1
			}
			remove_province_modifier = levy_tribute
		}
	}
}

#Removes Tax Tribute and adds Levy Tribute
character_event = {
	id = fkr.9
	hide_window = yes
	trigger = {
		independent = yes
		has_law = tribute_law_2
		any_realm_province = {
			NOT = {
				culture = ROOT
				has_province_modifier = levy_tribute
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_realm_province = {
			 limit = {
				NOT = {
					culture = ROOT
				}
			}
			add_province_modifier = {
				name = levy_tribute
				duration = -1
			}
			remove_province_modifier = tax_tribute
		}
	}
}

#Event to give Viceroy Succession to Military Governorates (on_new_holder, on_startup)
character_event = {
	id = fkr.10
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		government = military_governorate_government
		NOT = {
			has_law = succ_viceroyalty
		}
	}
	
	immediate = {
		if = {
			limit = {
				primary_title ={
					tier = DUKE
				}
			}
			any_demesne_title = {
				limit = {
					tier = DUKE
				}
				add_law = {
					law = succ_viceroyalty
					opinion_effect = no
					cooldown = no
				}
			}
		}
		if = {
			limit = {
				primary_title ={
					tier = KING
				}
			}
			any_demesne_title = {
				limit = {
					tier = KING
				}
				add_law = {
					law = succ_viceroyalty
					opinion_effect = no
					cooldown = no
				}
			}
		}
	}
}

#Event to give Viceroy Succession to Military Governorates (MTTH)
character_event = {
	id = fkr.11
	hide_window = yes
	trigger = {
		government = military_governorate_government
		NOT = {
			has_law = succ_viceroyalty
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
	
		if = {
			limit = {
				primary_title = {
					tier = DUKE
				}
			}
			any_demesne_title = {
				limit = {
					tier = DUKE
				}
				add_law = {
					law = succ_viceroyalty
					opinion_effect = no
					cooldown = no
				}
			}
		}
		if = {
			limit = {
				primary_title = {
					tier = KING
				}
			}
			any_demesne_title = {
				limit = {
					tier = KING
				}
				add_law = {
					law = succ_viceroyalty
					opinion_effect = no
					cooldown = no
				}
			}
		}
	}
}

#Event to give Eldership Succession to Tribal Governments (on_new_holder, on_startup)
character_event = {
	id = fkr.12
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		OR = {
			government = tribal_government
			government = pastoralist_government
		}
		NOT = {
			has_law = succ_eldership
		}
	}
	immediate = {
		primary_title = {
			add_law = {
				law = succ_eldership
				opinion_effect = no
				cooldown = no
			}
		}
	}
}

#Event to give Eldership Succession to Tribal Governments (MTTH)
character_event = {
	id = fkr.13
	hide_window = yes
	trigger = {
		OR = {
			government = tribal_government
			government = pastoralist_government
		}
		NOT = {
			has_law = succ_eldership
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			add_law = {
				law = succ_eldership
				opinion_effect = no
				cooldown = no
			}
		}
	}
}

#Adds Revolt Risk to Outside Religions and Cultures (on_new_holder, on_startup)
character_event = {
	id = fkr.14
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		government = regional_kingdom_government
		OR = {
			any_demesne_province = {
				OR = {
					NOT = {
						culture = ROOT
					}
					NOT = {
						religion = ROOT
					}
				}
				NOT = {
					has_province_modifier = foreign_rule
				}
			}
			any_demesne_province = {
				culture = ROOT
				religion = ROOT
				has_province_modifier = foreign_rule
			}
		}
	}

	immediate = {
		any_demesne_province = {
			limit = {
				OR = {
					NOT = {
						culture = ROOT
					}
					NOT = {
						religion = ROOT
					}
				}
			}
			add_province_modifier = {
				modifier = foreign_rule
				duration = -1
			}
		}
		any_demesne_province = {
			limit = {
				culture = ROOT
				religion = ROOT
			}
			remove_province_modifier = foreign_rule
		}
	}
}

#Adds Revolt Risk to Outside Religions and Cultures (MTTH)
character_event = {
	id = fkr.15
	hide_window = yes
	trigger = {
		government = regional_kingdom_government
		OR = {
			any_demesne_province = {
				OR = {
					NOT = {
						culture = ROOT
					}
					NOT = {
						religion = ROOT
					}
				}
				NOT = {
					has_province_modifier = foreign_rule
				}
			}
			any_demesne_province = {
				culture = ROOT
				religion = ROOT
				has_province_modifier = foreign_rule
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_demesne_province = {
			limit = {
				OR = {
					NOT = {
						culture = ROOT
					}
					NOT = {
						religion = ROOT
					}
				}
			}
			add_province_modifier = {
				modifier = foreign_rule
				duration = -1
			}
		}
		any_demesne_province = {
			limit = {
				culture = ROOT
				religion = ROOT
			}
			remove_province_modifier = foreign_rule
		}
	}
}

#Removes Revolt Risk from Non-Regional Kingdoms
character_event = {
	id = fkr.16
	hide_window = yes
	trigger = {
		NOT = {
			government = regional_kingdom_government
		}
		any_demesne_province = {
			has_province_modifier = foreign_rule
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_demesne_province = {
			remove_province_modifier = foreign_rule
		}
	}
}


#Event to give Feudal Elective Succession to Tribal Governments (on_new_holder, on_startup)
character_event = {
	id = fkr.17
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		government = tribal_confederacy_government
		NOT = {
			has_law = succ_feudal_elective
		}
	}
	immediate = {
		primary_title = {
			add_law = {
				law = succ_feudal_elective
				opinion_effect = no
				cooldown = no
			}
		}
	}
}

#Event to give Feudal Elective Succession to Tribal Governments (MTTH)
character_event = {
	id = fkr.18
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		government = tribal_confederacy_government
		NOT = {
			has_law = succ_feudal_elective
		}
	}
	immediate = {
		primary_title = {
			add_law = {
				law = succ_feudal_elective
				opinion_effect = no
				cooldown = no
			}
		}
	}
}

# ************************** Imperial Authority Events***********************

#Setup (on_startup)
character_event = {
	id = fkr.100
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		government = hegemonic_government
		NOT = {
			primary_title = {
				has_title_flag = imperial_authority_set
			}
		}
	}
	
	immediate = {
		add_character_modifier = {
			name = imperial_authority
			duration = -1
		}
		primary_title = {
			set_title_flag = imperial_authority_set
			set_title_flag = primary_set
			set_title_flag = flag_hegemonic_government
		}
		primary_title = {
			set_variable = { which = var_imperial_authority value = 60 }
		}
	}
}

#Gives Imperial Authority to new Emperors that are not heirs
character_event = {
	id = fkr.101
	desc = EVTDESCFKR101
	picture = GFX_evt_succession
	trigger = {
		government = hegemonic_government
		NOT = {
			primary_title = {
				has_title_flag = imperial_authority_set
			}
		}
		NOT = {
			any_demesne_title = {
				has_title_flag = imperial_authority_set
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			set_title_flag = imperial_authority_set
			set_title_flag = primary_set
		}
		primary_title = {
			set_variable = { which = var_imperial_authority value = 60 }
		}
	}
	
	option = {
		name = OK
		add_character_modifier = {
			name = imperial_authority_set
			duration = -1
		}
	}
}

#Gives Imperial Authority Modifier to heirs
character_event = {
	id = fkr.102
	desc = EVTDESCFKR102
	picture = GFX_evt_succession
	trigger = {
		NOT = {
			ROOT = {
				has_character_modifier = imperial_authority
			}
		}
		primary_title = {
			has_title_flag = imperial_authority_set
		}
		ROOT = {
			government = hegemonic_government
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = OK
		add_character_modifier = {
			name = imperial_authority
			duration = -1
		}
	}
}

#Remove Imperial Authority
character_event = {
	id = fkr.103
	hide_window = yes
	trigger = {
		NOT = {
			ROOT = {
				government = hegemonic_government
			}
		}
		OR = {
			any_demesne_title = {
				has_title_flag = imperial_authority_set
			} 
			any_demesne_title = {
				has_title_flag = primary_set
			} 
		}
	}
	
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_demesne_title = {
			clr_title_flag = imperial_authority_set
			clr_title_flag = primary_set
		} 
		hidden_tooltip = {
			remove_character_modifier = imperial_authority
			remove_trait = weak_emperor
			remove_trait = figurehead_emperor
			remove_trait = strong_emperor
		}
	}
}

#Primary title switch
character_event = {
	id = fkr.104
	hide_window = yes
	trigger = {
		government = hegemonic_government
		any_demesne_title = {
			has_title_flag = imperial_authority_set
			has_title_flag = primary_set
		}
		NOT = {
			primary_title = {
				has_title_flag = imperial_authority_set
			}
		}	
	}
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_demesne_title = {
			limit = {
				has_title_flag = primary_set
			}
			set_variable = { which = global_self_imperial_authority which = var_imperial_authority }
			clr_title_flag = imperial_authority_set
			clr_title_flag = primary_set
		}
		primary_title = {
			set_variable = { which = var_imperial_authority which = global_self_imperial_authority }
			set_title_flag = imperial_authority_set
			set_title_flag = primary_set
		}
	}
}

#Gives appropriate traits
character_event = {
	id = fkr.105
	desc = {
		picture = GFX_evt_dark_court
		trigger = {
			primary_title = { check_variable = { which = var_imperial_authority value < 10 }}
			NOT = {
				trait = weak_emperor
			}
		}
		text = EVTDESCFKR105_WEAK
	}
	desc = {
		picture = GFX_evt_ruler_speaks
		trigger = {
			primary_title = { check_variable = { which = var_imperial_authority value >= 10 } }
			trait = weak_emperor
		}
		text = EVTDESCFKR105_NOTWEAK
	}
	desc = {
		picture = GFX_evt_lose_authority
		trigger = {
			primary_title = { check_variable = { which = var_imperial_authority value < 50 } }
			trait = figurehead_emperor
		}
		text = EVTDESCFKR105_FIGUREHEAD
	}
	desc = {
		picture = GFX_evt_ruler_speaks
		trigger = {
			primary_title = { check_variable = { which = var_imperial_authority value > 50 } }
			primary_title = { check_variable = { which = var_imperial_authority value >= 10 } }
		}
		text = EVTDESCFKR105
	}
	desc = {
		picture = GFX_evt_dark_court
		trigger = {
			primary_title = { check_variable = { which = var_imperial_authority value < 70 } }
			trait = strong_emperor
		}
		text = EVTDESCFKR105_B
	}
	desc = {
		picture = GFX_evt_military_victory
		trigger = {
			primary_title = { check_variable = { which = var_imperial_authority value > 70 } }
		}
		text = EVTDESCFKR105_STRONG
	}
	
	trigger = {
		government = hegemonic_government
		OR = {
			AND = {
				primary_title = { check_variable = { which = var_imperial_authority value < 10 } }
				NOT = {
					trait = weak_emperor
				}
			}
			AND = {
				primary_title = { check_variable = { which = var_imperial_authority value >= 10 } }
				trait = weak_emperor
			}
			AND = {
				primary_title = { check_variable = { which = var_imperial_authority value >= 10 } }
				primary_title = { check_variable = { which = var_imperial_authority value < 50 } }
				NOT = {
					trait = figurehead_emperor
				}
			}
			AND = {
				primary_title = { check_variable = { which = var_imperial_authority value > 50 } }
				trait = figurehead_emperor
			}
			AND = {
				primary_title = { check_variable = { which = var_imperial_authority value < 70 } }
				trait = strong_emperor
			}
			AND = {
				primary_title = { check_variable = { which = var_imperial_authority value > 70 } }
				NOT = {
					trait = strong_emperor
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = {
			text = EVTOPTAFKR105_WEAK
			trigger = {
				primary_title = { check_variable = { which = var_imperial_authority value < 10 } }
				NOT = {
					trait = weak_emperor
				}
			}
		}
		name = {
			text = EVTOPTAFKR105_NOTWEAK
			trigger = {
				primary_title = { check_variable = { which = var_imperial_authority value >= 10 } }
				trait = weak_emperor
			}
		}
		name = {
			text = EVTOPTAFKR105_FIGUREHEAD
			trigger = {
				primary_title = { check_variable = { which = var_imperial_authority value >= 10 } }
				primary_title = { check_variable = { which = var_imperial_authority value < 50 } }
				NOT = {
					trait = figurehead_emperor
				}
			}
		}
		name = {
			text = EVTOPTAFKR105
			trigger = {
				primary_title = { check_variable = { which = var_imperial_authority value > 50 } }
				trait = figurehead_emperor
			}
		}
		name = {
			text = EVTOPTAFKR105_B
			trigger = {
				primary_title = { check_variable = { which = var_imperial_authority value < 70 } }
				trait = strong_emperor
			}
		}
		name = {
			text = EVTOPTAFKR105_STRONG
			trigger = {
				primary_title = { check_variable = { which = var_imperial_authority value > 70 } }
				NOT = {
					trait = strong_emperor
				}
			}
		}
		if = {
			limit = {
				primary_title = { check_variable = { which = var_imperial_authority value < 10 } }
				NOT = {
					trait = weak_emperor
				}
			}
			add_trait = weak_emperor
			remove_trait = figurehead_emperor
			set_character_flag = law_no_change
			set_council_law_strong_effect = yes
			clr_character_flag = law_no_change
		}
		if = {
			limit = {
				primary_title = { check_variable = { which = var_imperial_authority value >= 10 } }
				trait = weak_emperor
			}
			remove_trait = weak_emperor
		}
		if = {
			limit = {
				primary_title = { check_variable = { which = var_imperial_authority value >= 10 } }
				primary_title = { check_variable = { which = var_imperial_authority value < 50 } }
				NOT = {
					trait = figurehead_emperor
				}
			}
			add_trait = figurehead_emperor
			set_character_flag = law_no_change
			set_council_law_strong_effect = yes
			clr_character_flag = law_no_change
		}
		if = {
			limit = {
				primary_title = { check_variable = { which = var_imperial_authority value > 50 } }
				trait = figurehead_emperor
			}
			remove_trait = figurehead_emperor
		}
		if = {
			limit = {
				primary_title = { check_variable = { which = var_imperial_authority value < 70 } }
				trait = strong_emperor
			}
			remove_trait = strong_emperor
		}
		if = {
			limit = {
				primary_title = { check_variable = { which = var_imperial_authority value > 70 } }
				NOT = {
					trait = strong_emperor
				}
			}
			add_trait = strong_emperor
		}
	}
}	

#If Imperial Authority > 100, sets it to 100
character_event = {
	id = fkr.106
	hide_window = yes
	trigger = {
		primary_title = {
			check_variable = { which = var_imperial_authority value >= 100 }
		}
		government = hegemonic_government
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			set_variable = { which = var_imperial_authority value = 100 }
		}
	}
}

#If Imperial Authority < 0, sets it to 0
character_event = {
	id = fkr.107
	hide_window = yes
	trigger = {
		government = hegemonic_government
		primary_title = {
			check_variable = { which = var_imperial_authority value < 0 }
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			set_variable = { which = var_imperial_authority value = 0 }
		}
	}
}

#Rise: Good Stats
character_event = {
	id = fkr.108
	desc = EVTDESCFKR108
	picture = GFX_evt_council
	min_age = 16
	
	trigger = {
		government = hegemonic_government
		OR = {
			diplomacy = 15
			martial = 15
			stewardship = 15
			intrigue = 15
			learning = 15
			trait = genius
			trait = quick
			trait = strong
			trait = grey_eminence
			trait = brilliant_strategist
			trait = midas_touched
			trait = elusive_shadow
			trait = administrator
		}
		NOT = {
			has_character_flag = imperial_authority_good_stats
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = var_imperial_authority value = 5 }
		}
	}
	
	option = {
		name = opta_excellent
		custom_tooltip = {
			text = imperial_authority_increase_5_TT
		}
		hidden_tooltip = {
			set_character_flag = imperial_authority_good_stats
		}
	}
}

#Set up for loyal councillors
character_event = {
	id = fkr.109
	hide_window = yes
	
	has_job_title = yes
	
	trigger = {
		liege = {
			government = hegemonic_government
		}
		NOT = {
			has_character_flag = loyal_councilor
		}
		has_position = loyalist
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		set_character_flag = loyal_councilor
		if = {
			limit = {
				has_character_flag = disloyal_councilor
			}
			remove_character_modifier = disloyal_councilor
		}
		liege = {
			character_event = { id = fkr.110 }
		}
	}
}

#Rise: Loyal Councilor
character_event = {
	id = fkr.110
	desc = EVTDESCFKR110
	picture = GFX_evt_council
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				FROM = {
					is_powerful_vassal = yes 
				}
			}
			primary_title = {
				change_variable = { which = var_imperial_authority value = 5 }
			}
		}
		else = {
			primary_title = {
				change_variable = { which = var_imperial_authority value = 2.5 }
			}
		}
	}
	
	option = {
		name = opta_excellent
		if = {
			limit = {
				FROM = {
					is_powerful_vassal = yes 
				}
			}
			custom_tooltip = {
				text = imperial_authority_increase_5_TT
			}
		}
		else = {
			custom_tooltip = {
				text = imperial_authority_increase_2_5_TT
			}
		}
		prestige = 25
	}
}

#Rise: Weak Council
character_event = {
	id = fkr.111
	desc = EVTDESCFKR111
	picture = GFX_evt_council
	notification = yes
	is_triggered_only = yes
	
	trigger = {
		government = hegemonic_government
		NOT = {
			has_character_flag = law_no_change
		}
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = var_imperial_authority value = 5 }
		}
	}
	
	option = {
		name = opta_excellent
		custom_tooltip = {
			text = imperial_authority_increase_5_TT
		}
		prestige = 25
	}
}

#Rise: Major Victory
character_event = {
	id = fkr.112
	desc = EVTDESCFKR112
	picture = GFX_evt_military_victory
	notification = yes
	is_triggered_only = yes
	
	trigger = {
		government = hegemonic_government
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = var_imperial_authority value = 2.5 }
		}
	}
	
	option = {
		name = opta_excellent
		custom_tooltip = {
			text = imperial_authority_increase_2_5_TT
		}
		prestige = 25
	}
}

#Rise: Led Major Victory
character_event = {
	id = fkr.113
	desc = EVTDESCFKR113
	picture = GFX_evt_military_victory
	notification = yes
	is_triggered_only = yes
	
	trigger = {
		government = hegemonic_government
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = var_imperial_authority value = 5 }
		}
	}
	
	option = {
		name = opta_excellent
		custom_tooltip = {
			text = imperial_authority_increase_5_TT
		}
		prestige = 25
	}
}

#Fall: Bad Stats
character_event = {
	id = fkr.114
	desc = EVTDESCFKR114
	picture = GFX_evt_dark_court
	min_age = 16
	
	trigger = {
		government = hegemonic_government
		OR = {
			diplomacy < 5
			martial < 5
			stewardship < 5
			intrigue < 5
			learning < 5
			trait = dull
			trait = imbecile
			trait = inbred
			trait = slow
			trait = weak
			trait = naive_appeaser
			trait = misguided_warrior
			trait = indulgent_wastrel
			trait = amateurish_plotter
		}
		NOT = {
			has_character_flag = imperial_authority_bad_stats
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = var_imperial_authority value = -5 }
		}
	}
	
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = imperial_authority_decrease_5_TT
		}
		hidden_tooltip = {
			set_character_flag = imperial_authority_bad_stats
		}
	}
}

#Set up for disloyal councillors
character_event = {
	id = fkr.115
	hide_window = yes
	
	has_job_title = yes
	
	trigger = {
		liege = {
			government = hegemonic_government
		}
		NOT = {
			has_character_flag = disloyal_councilor
		}
		has_position = malcontent
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		set_character_flag = disloyal_councilor
		if = {
			limit = {
				has_character_flag = loyal_councilor
			}
			remove_character_modifier = loyal_councilor
		}
		liege = {
			character_event = { id = fkr.116 }
		}
	}
}

#Fall: Disloyal Councilor
character_event = {
	id = fkr.116
	desc = EVTDESCFKR116
	picture = GFX_evt_dark_court
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				FROM = {
					is_powerful_vassal = yes 
				}
			}
			primary_title = {
				change_variable = { which = var_imperial_authority value = -5 }
			}
		}
		else = {
			primary_title = {
				change_variable = { which = var_imperial_authority value = -2.5 }
			}
		}
	}
	
	option = {
		name = opta_disappointing
		if = {
			limit = {
				FROM = {
					is_powerful_vassal = yes 
				}
			}
			custom_tooltip = {
				text = imperial_authority_decrease_5_TT
			}
		}
		else = {
			custom_tooltip = {
				text = imperial_authority_decrease_2_5_TT
			}
		}
		prestige = -25
	}
}

#Fall: Strong Council
character_event = {
	id = fkr.117
	desc = EVTDESCFKR117
	picture = GFX_evt_dark_court
	notification = yes
	is_triggered_only = yes
	
	trigger = {
		government = hegemonic_government
		NOT = {
			has_character_flag = law_no_change
		}
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = var_imperial_authority value = -5 }
		}
	}
	
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = imperial_authority_decrease_5_TT
		}
		prestige = -25
	}
}

#Fall: Major Loss
character_event = {
	id = fkr.118
	desc = EVTDESCFKR118
	picture = GFX_evt_military_defeat
	notification = yes
	is_triggered_only = yes
	
	trigger = {
		government = hegemonic_government
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = var_imperial_authority value = -2.5 }
		}
	}
	
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = imperial_authority_decrease_2_5_TT
		}
		prestige = -25
	}
}

#Fall: Led Major Loss
character_event = {
	id = fkr.119
	desc = EVTDESCFKR119
	picture = GFX_evt_military_defeat
	notification = yes
	is_triggered_only = yes
	
	trigger = {
		government = hegemonic_government
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = var_imperial_authority value = -5 }
		}
	}
	
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = imperial_authority_decrease_5_TT
		}
		prestige = -25
	}
}

#Fall: Succession
character_event = {
	id = fkr.120
	desc = EVTDESCFKR120
	picture = GFX_evt_succession
	is_triggered_only = yes
	
	trigger = {
		government = hegemonic_government
		current_heir = {
			is_landed = no
			NOT = {
				government = hegemonic_government
			}
		}
		primary_title = {
			check_variable = { which = var_imperial_authority value = 20 }
		}
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = var_imperial_authority value = -10 }
		}
		current_heir = {
			add_character_modifier = {
				name = imperial_authority
				duration = -1
			}
		}
	}
	
	option = {
		name = EVTOPTAFKR120
		custom_tooltip = {
			text = imperial_authority_decrease_10_TT
		}
	}
}

#Authority Decrease - Regency Set Up
character_event = {
	id = fkr.121
	hide_window = yes
	trigger = {
		government = hegemonic_government
		NOT = {
			trait = weak_emperor
		}
		has_regent = yes
		NOT = {
			has_character_flag = imperial_authority_regent
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		set_character_flag = imperial_authority_regent
	}
}

#Fall: Regency
character_event = {
	id = fkr.122
	desc = EVTDESCFKR122
	picture = GFX_evt_regency
	trigger = {
		government = hegemonic_government
		has_regent = yes
		had_character_flag = {
			flag = imperial_authority_regent
			days = 1825
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		clr_character_flag = imperial_authority_regent
		set_character_flag = imperial_authority_regent
		primary_title = {
			change_variable = { which = var_imperial_authority value = -5 }
		}
	}
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = imperial_authority_decrease_5_TT
		}
	}
}

#Authority Decrease - Regency Cleanup
character_event = {
	id = fkr.123
	hide_window = yes
	trigger = {
		government = hegemonic_government
		has_regent = no
		has_character_flag = imperial_authority_regent
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		clr_character_flag = imperial_authority_regent
	}
}

character_event = {
	id = fkr.124
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		ROOT = {
			save_event_target_as = slanderer
		}
		FROM = {
			save_event_target_as = slanderee
		}
		character_event = { id = fkr.125 }
	}
}

#Vassal writes to slander Emperor
character_event = {
	id = fkr.125
	desc  = EVTDESCFKR125
	picture = GFX_evt_written_stele
	is_triggered_only = yes
	
	immediate = {
		event_target:slanderer = {
			set_character_flag = no_scope_please
		}
	}
	
	option = {
		name = EVTOPTAFKR125
		custom_tooltip = {
			text = furious_writing_TT
			random_list = {
				50 = { #Do poorly
					custom_tooltip = {
						text = do_poorly_TT
						hidden_tooltip = {
							character_event = { id = fkr.126 }
							liege = {
								any_vassal = {
									limit = {
										NOT = {
											has_character_flag = no_scope_please
										}
									}
									character_event = { id = fkr.129 }
								}
							}
						}
					}
					modifier = {
						factor = 1.5
						OR = {
							event_target:slanderee = {
								is_benevolent_trigger = yes
								has_pleasant_personality_trigger = yes 
								is_pious_trigger = yes
							}
						}
					}
					modifier = {
						factor = 1.3
						OR = {
							event_target:slanderee = {
								has_benevolent_trait_trigger = yes
								has_pleasant_trait_trigger = yes
								has_pious_trait_trigger = yes
								has_virtue_trigger = yes
							}
						}
					}
					modifier = {
						factor = 0
						OR = {
							intrigue = 15
							trait = genius
							trait = flamboyant_schemer
						}
					}
				}
				30 = { #Do well
					custom_tooltip = {
						text = do_well_TT
						hidden_tooltip = {
							character_event = { id = fkr.127 }
							liege = {
								any_vassal = {
									limit = {
										NOT = {
											has_character_flag = no_scope_please
										}
									}
									character_event = { id = fkr.130 }
								}
							}
						}
					}
					modifier = {
						factor = 1.5
						OR = {
							intrigue = 15
							trait = genius
							trait = flamboyant_schemer
						}
					}
					modifier = {
						factor = 1.3
						OR = {
							event_target:slanderee = {
								is_evil_trigger = yes
								has_unpleasant_personality_trigger = yes 
								is_impious_trigger = yes
							}
						}
					}
					modifier = {
						factor = 1.2
						OR = {
							event_target:slanderee = {
								has_evil_trait_trigger = yes
								has_unpleasant_trait_trigger = yes
								has_impious_trait_trigger = yes
								has_vice_trigger = yes
							}
						}
					}
					modifier = {
						factor = 0.8
						OR = {
							event_target:slanderee = {
								is_benevolent_trigger = yes
								has_pleasant_personality_trigger = yes 
								is_pious_trigger = yes
							}
						}
					}
					modifier = {
						factor = 0.6
						OR = {
							event_target:slanderee = {
								has_benevolent_trait_trigger = yes
								has_pleasant_trait_trigger = yes
								has_pious_trait_trigger = yes
								has_virtue_trigger = yes
							}
						}
					}
				}
				20 = { #Do excellent
					custom_tooltip = {
						text = do_excellent_TT
						hidden_tooltip = {
							character_event = { id = fkr.128 }
							liege = {
								any_vassal = {
									limit = {
										NOT = {
											has_character_flag = no_scope_please
										}
									}
									character_event = { id = fkr.131 }
								}
							}
						}
					}
					modifier = {
						factor = 1.4
						OR = {
							intrigue = 15
							trait = genius
							trait = flamboyant_schemer
						}
					}
					modifier = {
						factor = 1.3
						OR = {
							event_target:slanderee = {
								is_evil_trigger = yes
								has_unpleasant_personality_trigger = yes 
								is_impious_trigger = yes
							}
						}
					}
					modifier = {
						factor = 1.2
						OR = {
							event_target:slanderee = {
								has_evil_trait_trigger = yes
								has_unpleasant_trait_trigger = yes
								has_impious_trait_trigger = yes
								has_vice_trigger = yes
							}
						}
					}
					modifier = {
						factor = 0.9
						OR = {
							event_target:slanderee = {
								is_benevolent_trigger = yes
								has_pleasant_personality_trigger = yes 
								is_pious_trigger = yes
							}
						}
					}
					modifier = {
						factor = 0.7
						OR = {
							event_target:slanderee = {
								has_benevolent_trait_trigger = yes
								has_pleasant_trait_trigger = yes
								has_pious_trait_trigger = yes
								has_virtue_trigger = yes
							}
						}
					}
				}
			}
		}
	}
}

#Slandering goes poorly
character_event = {	
	id = fkr.126
	desc = EVTDESCFKR126
	picture = GFX_evt_council
	is_triggered_only = yes
	
	immediate = {
		event_target:slanderer = {
			clr_character_flag = no_scope_please
		}
	}
	
	option = {
		name = EVTOPTAFKR126
		custom_tooltip = {
			text = council_dislikes_you_TT
			hidden_tooltip = {
				liege = {
					any_vassal = {
						opinion = {
							modifier = opinion_slandered_emperor
							who = FROM
						}
					}
				}
			}
		}
		event_target:slanderee = {
			character_event = { id = fkr.132 } #Message to emperor
		}
	}
}

#Slandering goes well
character_event = {
	id = fkr.127
	desc = EVTDESCFKR127
	picture = GFX_evt_council
	is_triggered_only = yes
	
	immediate = {
		event_target:slanderer = {
			clr_character_flag = no_scope_please
		}
	}
	
	option = {
		name = EVTOPTAFKR127
		custom_tooltip = {
			text = council_dislikes_TT
			hidden_tooltip = {
				liege = {
					any_vassal = {
						limit = {
							NOT = {
								is_friend = event_target:slanderee
							}
						}
						opinion = {
							modifier = opinion_rumors_10
							who = event_target:slanderee
						}
					}
				}
			}
		}
		custom_tooltip = {
			text = imperial_authority_decrease_2_5_TT
			hidden_tooltip = {
				liege = {
					primary_title = {
						change_variable = { which = var_imperial_authority  value = -5 }
					}
				}
			}
		}
		event_target:slanderee = {
			character_event = { id = fkr.133 } #Message to emperor
		}
	}
}

#Slandering goes excellently
character_event = {
	id = fkr.128
	desc = EVTDESCFKR128
	picture = GFX_evt_council
	is_triggered_only = yes
	
	immediate = {
		event_target:slanderer = {
			clr_character_flag = no_scope_please
		}
	}
	
	option = {
		name = EVTOPTAFKR128
		liege = {
			any_vassal = {
				limit = {
					is_landed = yes
					NOT = {
						is_friend = event_target:slanderee
					}
				}
				opinion = {
					modifier = opinion_rumors_25
					who = event_target:slanderee
				}
			}
		}
		custom_tooltip = {
			text = imperial_authority_decrease_7_TT
			hidden_tooltip = {
				liege = {
					primary_title = {
						change_variable = { which = var_imperial_authority  value = -7 }
					}
				}
			}
		}
		event_target:slanderee = {
			character_event = { id = fkr.134 } #Message to emperor
		}
	}
}

#Slandering goes poorly - Council
character_event = {
	id = fkr.129
	desc = EVTDESCFKR129
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKR129
		custom_tooltip = {
			text = council_hates_vassal_TT
		}
	}
}

#Slandering goes well - Council
character_event = {
	id = fkr.130
	desc = EVTDESCFKR130
	picture = GFX_evt_dark_court
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKR130
		custom_tooltip = {
			text = council_dislikes_emperor_TT
		}
	}
}

#Slandering goes excellently - Council
character_event = {
	id = fkr.131
	desc = EVTDESCFKR131
	picture = GFX_evt_dark_court
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKR339
		custom_tooltip = {
			text = council_hates_emperor_TT
		}
	}
}

#Slandering goes poorly - Emperor
character_event = {
	id = fkr.132
	desc = EVTDESCFKR132
	picture = GFX_evt_lose_authority
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKR132
		opinion = {
			modifier = opinion_charge_slanderer
			who = event_target:slanderer
		}
		if = {
			limit = {
				is_friend = event_target:slanderer
			}
			remove_friend = event_target:slanderer
		}
	}
}

#Slandering goes well - Emperor
character_event = {
	id = fkr.133
	desc = EVTDESCFKR133
	picture = GFX_evt_lose_authority
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKR133
		opinion = {
			modifier = opinion_charge_slanderer
			who = event_target:slanderer
		}
		custom_tooltip = {
			text = imperial_authority_decrease_5_TT
		}
		if = {
			limit = {
				is_friend = event_target:slanderer
			}
			remove_friend = event_target:slanderer
		}
	}
}

#Slandering goes excellently - Emperor
character_event = {
	id = fkr.134
	desc = EVTDESCFKR134
	picture = GFX_evt_lose_authority
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKR134
		opinion = {
			modifier = opinion_charge_slanderer
			who = event_target:slanderer
		}
		custom_tooltip = {
			text = imperial_authority_decrease_7_TT
		}
		if = {
			limit = {
				is_friend = event_target:slanderer
			}
			remove_friend = event_target:slanderer
		}
	}
}

#Usurpers getting Strong Emperor
character_event = {
	id = fkr.135
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		government = hegemonic_government
		NOT = {
			has_character_modifier = imperial_authority
		}
	}
	
	immediate = {
		add_character_modifier = {
			name = imperial_authority
			duration = -1
		}
		primary_title = {
			set_title_flag = imperial_authority_set
			set_title_flag = primary_set
		}
		primary_title = {
			set_variable = { which = var_imperial_authority value = 80 }
		}
	}
}


#Authority Increase - Won War
character_event = {
	id = fkr.136
	desc = EVTDESCFKR136
	picture =GFX_evt_military_victory
	is_triggered_only = yes
	only_playable = yes
	
	trigger = {
		government = hegemonic_government
	}
	
	immediate = {
		change_variable = { which = var_imperial_authority value = 10 }
	}
	
	option = {
		name = opta_excellent
		custom_tooltip = {
			text = imperial_authority_increase_10_TT
		}
	}
}

#Authority Decrease - Lost War
character_event = {
	id = fkr.137
	desc = EVTDESCFKR137
	picture =GFX_evt_military_defeat
	is_triggered_only = yes
	only_playable = yes
	
	trigger = {
		government = hegemonic_government
	}
	
	immediate = {
		change_variable = { which = var_imperial_authority value = -10 }
	}
	
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = imperial_authority_decrease_10_TT
		}
	}
}

# ************************** Palace Bureaucracy Events***********************

#Variable for Palace Bureaucracy (on_startup)
character_event = {
	id = fkr.200
	hide_window = yes
	is_triggered_only = yes
	only_playable = yes
	
	trigger = {
		is_feudal = yes
		higher_real_tier_than = BARON
		NOT = {
			primary_title = {
				has_title_flag = palace_bureaucracy_set
			}
		}
	}
	
	immediate = {
		add_character_modifier = {
			name = palace_bureaucracy
			duration = -1
		}
		primary_title = {
			set_title_flag = palace_bureaucracy_set
			set_title_flag = primary_set
		}
		primary_title = {
			set_variable = { which = palace_bureaucracy_number value = 50 }
		}
	}
}

#Variable for Palace Bureaucracy (MTTH)
character_event = {
	id = fkr.201
	desc = EVTDESCFKR201
	picture =GFX_evt_council
	
	only_playable = yes
	
	trigger = {
		is_feudal = yes
		higher_real_tier_than = BARON
		NOT = {
			primary_title = {
				has_title_flag = palace_bureaucracy_set
			}
		}
		NOT = {
			any_demesne_title = {
				has_title_flag = palace_bureaucracy_set
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			set_title_flag = palace_bureaucracy_set
			set_title_flag = primary_set
		}
		liege = {
			primary_title = {
				set_variable = { which = global_transfer_bureaucracy_number which = palace_bureaucracy_number }
			}
		}
	}
	
	option = {
		name = OK
		add_character_modifier = {
			name = palace_bureaucracy
			duration = -1
		}
		hidden_tooltip = {
			if = {
				limit = {
					independent = no
				}
				primary_title = {
					set_variable = { which = palace_bureaucracy_number which = global_transfer_bureaucracy_number }
				}
			}
			else = {
				primary_title = {
					set_variable = { which = palace_bureaucracy_number value = 50 }
				}
			}
		}
	}
}

#Gives Palace Bureaucracy to heirs/Removes it from non-feudal (on_new_holder)
character_event = {
	id = fkr.202
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_character_modifier = palace_bureaucracy
		}
		any_demesne_title = {
			has_title_flag = palace_bureaucracy_set
		}
	}

	immediate = {
		if = {
			limit = {
				is_feudal = yes
				higher_real_tier_than = BARON
			}
			add_character_modifier = {
				name = palace_bureaucracy
				duration = -1
			}
		}
		if = {
			limit = {
				is_feudal = no
			}
			any_demesne_title = {
				clr_title_flag = palace_bureaucracy_set
				clr_title_flag = primary_set
			} 
			remove_character_modifier = palace_bureaucracy
			remove_character_modifier = low_palace_bureaucracy
			remove_character_modifier = high_palace_bureaucracy
			remove_character_modifier = poor_reforms
			remove_character_modifier = good_reforms
			remove_character_modifier = sold_bureaucratic_positions
		}
	}
}

#Gives Palace Bureaucracy to New Vassals (on_new_holder)
character_event = {
	id = fkr.203
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_character_modifier = palace_bureaucracy
		}
		is_feudal = yes
		independent = no
	}

	immediate = {
		add_character_modifier = {
			name = palace_bureaucracy
			duration = -1
		}
		liege = {
			primary_title = {
				set_variable = { which = global_transfer_bureaucracy_number which = palace_bureaucracy_number }
			}
		}
		primary_title = {
			set_variable = { which = palace_bureaucracy_number which = global_transfer_bureaucracy_number }
			set_title_flag = primary_set
			set_title_flag = palace_bureaucracy_set
		}
	}
}

#Removes Palace Bureaucracy from non-feudal (MTTH)
character_event = {
	id = fkr.204
	hide_window = yes
	trigger = {
		is_feudal = no
		any_demesne_title = {
			has_title_flag = palace_bureaucracy_set
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		any_demesne_title = {
			clr_title_flag = palace_bureaucracy_set
			clr_title_flag = primary_set
		} 
		remove_character_modifier = palace_bureaucracy
		remove_character_modifier = low_palace_bureaucracy
		remove_character_modifier = high_palace_bureaucracy
		remove_character_modifier = poor_reforms
		remove_character_modifier = good_reforms
		remove_character_modifier = sold_bureaucratic_positions
	}
}

#Primary Title Switch (MTTH)
character_event = {
	id = fkr.205
	hide_window = yes
	trigger = {
		is_feudal = yes
		any_demesne_title = {
			has_title_flag = palace_bureaucracy_set
			has_title_flag = primary_set
		}
		NOT = {
			primary_title = {
				has_title_flag = primary_set
			}
		}	
	}
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		any_demesne_title = {
			limit = {
				has_title_flag = primary_set
			}
			set_variable = { which = global_selfbureau_number which = palace_bureaucracy_number }
			clr_title_flag = palace_bureaucracy_set
			clr_title_flag = primary_set
		}
		primary_title = {
			set_variable = { which = palace_bureaucracy_number which = global_selfbureau_number }
			set_title_flag = palace_bureaucracy_set
			set_title_flag = primary_set
		}
	}
}

#Bureaucracy Rise: Good Vassals/Rulers
character_event = {
	id = fkr.206
	desc = EVTDESCFKR206
	picture = GFX_evt_ruler_speaks
	only_playable = yes
	min_age = 16
	
	trigger = {
		is_feudal
		OR = {
			trait = just
			trait = administrator
			stewardship > 15
			learning > 15
		}
		NOT = {
			has_character_flag = quality_ruler
		}
		NOT = {
			trait = arbitrary
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = 3 }
		}
	}
	
	option = {
		name = opta_excellent
		set_character_flag = quality_ruler
		custom_tooltip = {
			text = bureau_increase_3_TT
		}
		prestige = 50
		if = {
			limit = {
				independent = no
			}
			liege = {
				character_event = { id = fkr.207 }
			}
		}
	}
}

#Liege Notification
character_event = {
	id = fkr.207
	desc = EVTDESCFKR207
	picture = GFX_evt_ruler_speaks
	notification = yes
	is_triggered_only = yes
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = 2 }
		}
	}
	
	option = {
		name = opta_excellent
		custom_tooltip = {
			text = bureau_increase_2_TT
		}
		opinion = {
			modifier = model_bureaucrat
			who = FROM
		}
		prestige = 25
	}
}

#Bureaucracy Rise: Strong Council (Triggerd by Law on_pass_effect)
character_event = {
	id = fkr.208
	desc = EVTDESCFKR208
	picture =GFX_evt_council
	notification = yes
	is_triggered_only = yes
	
	trigger = {
		NOT = {
			has_character_flag = law_no_change
		}
		government = bureaucratic_government
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = 2.5 }
		}
	}
	
	option = {
		name = opta_excellent
		custom_tooltip = {
			text = bureau_increase_205_TT
		}
		prestige = 25
	}
}

#Set up for quality councillors
character_event = {
	id = fkr.209
	hide_window = yes
	
	has_job_title = yes
	
	trigger = {
		liege = {
			is_feudal = yes
		}
		OR = {
			AND = {
				has_job_title = job_chancellor
				NOT = {
					liege = {
						has_character_flag = set_chancellor
					}
				}
				diplomacy > 15
			}
			AND = {
				has_job_title = job_marshal
				NOT = {
					liege = {
						has_character_flag = set_marshal
					}
				}
				martial > 15
			}
			AND = {
				has_job_title = job_treasurer
				NOT = {
					liege = {
						has_character_flag = set_treasurer
					}
				}
				stewardship > 15
			}
			AND = {
				has_job_title = job_spymaster
				NOT = {
					liege = {
						has_character_flag = set_spymaster
					}
				}
				intrigue > 15
			}
			AND = {
				has_job_title = job_spiritual
				NOT = {
					liege = {
						has_character_flag = set_spiritual
					}
				}
				learning > 15
			}
		}
		NOT = {
			has_character_flag = councillor_set
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		set_character_flag = councillor_set
		liege = {
			character_event = { id = fkr.210 }
		}
	}
}

#Bureaucracy Rise: Quality Councillors
character_event = {
	id = fkr.210
	desc = EVTDESCFKR210
	picture =GFX_evt_council
	is_triggered_only = yes

	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = 2 }
		}
	}
	
	option = {
		name = opta_excellent
		custom_tooltip = {
			text = bureau_increase_2_TT
		}
		if = {
			limit = {
				FROM = {
					has_job_title = job_chancellor
				}
			}
			set_character_flag = set_chancellor
		}
		if = {
			limit = {
				FROM = {
					has_job_title = job_marshal
				}
			}
			set_character_flag = set_marshal
		}
		if = {
			limit = {
				FROM = {
					has_job_title = job_treasurer
				}
			}
			set_character_flag = set_treasurer
		}
		if = {
			limit = {
				FROM = {
					has_job_title = job_spymaster
				}
			}
			set_character_flag = set_spymaster
		}
		if = {
			limit = {
				FROM = {
					has_job_title = job_spiritual
				}
			}
			set_character_flag = set_spiritual
		}
		opinion = {
			modifier = model_bureaucrat
			who = FROM
		}
		prestige = 25
	}
}

#Leave a space for minor title event

#Bureaucracy Fall: Bad vassals
character_event = {
	id = fkr.212
	desc = EVTDESCFKR212
	picture = GFX_evt_dark_court
	only_playable = yes
	min_age = 16
	
	trigger = {
		is_feudal = yes
		OR = {
			trait = arbitrary
			stewardship < 6
			learning < 6
		}
		NOT = {
			has_character_flag = poor_ruler
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = -2 }
		}
	}
	
	option = {
		name = opta_disappointing
		set_character_flag = poor_ruler
		custom_tooltip = {
			text = bureau_decrease_2_TT
		}
		prestige = -10
		if = {
			limit = {
				independent = no
			}
			liege = {
				character_event = { id = fkr.213 }
			}
		}
	}
}

#Liege Notification
character_event = {
	id = fkr.213
	desc = EVTDESCFKR213
	picture = GFX_evt_dark_court
	notification = yes
	is_triggered_only = yes
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = -2 }
		}
	}
	
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = bureau_decrease_2_TT
		}
		opinion = {
			modifier = bad_bureaucrat
			who = FROM
		}
	}
}

#Bureaucracy Fall: Weak Council (Triggerd by Law on_pass_effect)
character_event = {
	id = fkr.214
	desc = EVTDESCFKR214
	picture = GFX_evt_dark_court
	is_triggered_only = yes
	
	trigger = {
		government = bureaucratic_government
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = -5 }
		}
	}
	
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = bureau_decrease_3_TT
		}
		prestige = -10
	}
}


#Set up for bad councillors
character_event = {
	id = fkr.215
	hide_window = yes
	
	has_job_title = yes
	
	trigger = {
		liege = {
			is_feudal = yes
		}
		OR = {
			AND = {
				has_job_title = job_chancellor
				NOT = {
					liege = {
						has_character_flag = set_chancellor
					}
				}
				diplomacy < 6
			}
			AND = {
				has_job_title = job_marshal
				NOT = {
					liege = {
						has_character_flag = set_marshal
					}
				}
				martial < 6
			}
			AND = {
				has_job_title = job_treasurer
				NOT = {
					liege = {
						has_character_flag = set_treasurer
					}
				}
				stewardship < 6
			}
			AND = {
				has_job_title = job_spymaster
				NOT = {
					liege = {
						has_character_flag = set_spymaster
					}
				}
				intrigue < 6
			}
			AND = {
				has_job_title = job_spiritual
				NOT = {
					liege = {
						has_character_flag = set_spiritual
					}
				}
				learning < 6
			}
		}
		NOT = {
			has_character_flag = councillor_set
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		set_character_flag = councillor_set
		liege = {
			character_event = { id = fkr.216 }
		}
	}
}

#Bureaucracy Fall: Bad Councillors
character_event = {
	id = fkr.216
	desc = EVTDESCFKR216
	picture = GFX_evt_dark_court
	is_triggered_only = yes
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = -1 }
		}
	}
	
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = bureau_decrease_1_TT
		}
		opinion = {
			modifier = bad_bureaucrat
			who = FROM
		}
		prestige = -10
	}
}

#Bureaucracy Fall: Succession (on_death)
character_event = {
	id = fkr.217
	desc = EVTDESCFKR217
	picture = GFX_evt_dark_court
	is_triggered_only = yes
	only_playable = yes
	
	trigger = {
		is_feudal = yes
		current_heir = {
			is_landed = no
		}
		primary_title = {
			check_variable = { which = palace_bureaucracy_number value > 40 }
		}
	}
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = -10 }
		}
		current_heir = {
			add_character_modifier = {
				name = palace_bureaucracy
				duration = -1
			}
		}
	}
	
	option = {
		name = EVTOPTAFKR217
		custom_tooltip = {
			text = bureau_decrease_10_TT
		}
	}
}

#Bureaucracy Fall: Nepotism (on_new_holder)
character_event = {
	id = fkr.218
	hide_window = yes
	is_triggered_only = yes
	only_playable = yes
	
	trigger = {
		liege = {
			is_close_relative = ROOT
		}
		NOR = {
			trait = just
			trait = administrator
			stewardship > 15
			learning > 15
		}
		independent = no
	}
	immediate = {
		liege = {
			character_event = { id = fkr.219 }
		}
	}
}

#Liege Notification
character_event = {
	id = fkr.219
	desc = EVTDESCFKR219
	picture = GFX_evt_dark_court
	is_triggered_only = yes
	only_playable = yes

	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = -2 }
		}
	}
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = bureau_decrease_2_TT
		}
	}
}

#Bureaucracy Fall: Nepotism Setup (MTTH)
character_event = {
	id = fkr.220
	hide_window = yes 
	trigger = {
		OR = {
			has_minor_title = title_commander
			is_councillor = yes
		}
		OR = {
			is_cousin_of = liege
			is_close_relative = liege
		}
		NOR = {
			trait = just
			trait = administrator
			stewardship > 15
			learning > 15
			AND = {
				has_job_title = job_chancellor
				diplomacy > 15
			}
			AND = {
				has_job_title = job_marshal
				martial > 15
			}
			AND = {
				has_job_title = job_treasurer
				stewardship > 15
			}
			AND = {
				has_job_title = job_spymaster
				intrigue > 15
			}
			AND = {
				has_job_title = job_spiritual
				learning > 15
			}
		}
		NOT = {
			has_character_flag = flag_nepotism
		}
		independent = no
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		set_character_flag = flag_nepotism
		liege = { id = fkr.221 }
	}
}

#Liege Notification
character_event = {
	id = fkr.221
	desc = EVTDESCFKR221
	picture = GFX_evt_dark_court
	only_playable = yes

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = -2 }
		}
	}
	option = {
		name = opta_disappointing
		custom_tooltip = {
			text = bureau_decrease_2_TT
		}
	}
}

#Bureaucracy Fall: Capital Sack
character_event = {
	id = fkr.222
	desc = EVTDESCFKR222
	picture = GFX_evt_military_defeat
	only_playable = yes
	is_triggered_only = yes
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = -10 }
		}
	}
	
	option = {
		name = EVTOPTAFKR222
		custom_tooltip = {
			text = bureau_decrease_10_TT
		}
	}
}
#Leaving space for more events

#Decrease to Low Bureaucracy
character_event = {
	id = fkr.230
	desc = EVTDESCFKR230
	picture = GFX_evt_dark_court
	trigger = {
		is_feudal = yes
		primary_title = {
			check_variable = { which = palace_bureaucracy_number value < 40 }
		}
		NOT = {
			has_character_modifier = low_bureaucracy
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = EVTOPTAFKR230
		add_character_modifier = {
			modifier = low_bureaucracy
			duration = -1
		}
	}	
}

#Decrease to Average Bureaucracy
character_event = {
	id = fkr.231
	desc = EVTDESCFKR231
	picture = GFX_evt_dark_court
	trigger = {
		is_feudal = yes
		primary_title = {
			check_variable = { which = palace_bureaucracy value < 70 }
		}
		has_character_modifier = high_bureaucracy
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = EVTOPTAFKR231
		remove_character_modifier = high_bureaucracy
	}	
}

#Increase to Average Bureaucracy
character_event = {
	id = fkr.232
	desc = EVTDESCFKR232
	picture = GFX_evt_council
	trigger = {
		is_feudal = yes
		primary_title = {
			AND = {
				check_variable = { which = palace_bureaucracy value > 40 }
				check_variable = { which = palace_bureaucracy value < 70 }
			}
		}
		has_character_modifier = low_bureaucracy
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = opta_excellent
		remove_character_modifier = low_bureaucracy
	}	
}

#Increase to High Bureaucracy
character_event = {
	id = fkr.233
	desc = EVTDESCFKR233
	picture = GFX_evt_council
	trigger = {
		is_feudal = yes
		primary_title = {
			check_variable = { which = palace_bureaucracy value > 70 }
		}
		NOT = {
			has_character_modifier = high_bureaucracy
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = EVTOPTAFKR233
		add_character_modifier = {
			modifier = high_bureaucracy
			duration = -1
		}
	}	
}

#Bureaucratic reform
character_event = {
	id = fkr.234
	desc = EVTDESCFKR234
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = {
		name = EVTOPTAFKR234
		scaled_wealth = -0.50
		custom_tooltip = {
			text = reform_bare_TT
			text = getback_180_TT
			hidden_tooltip = {
				random_list = {
					60 = { #poor reform
						character_event = { id = fkr.235 days = 180 }
						modifier = {
							factor = 2
							stewardship < 6
						}
					}
					20 = { #reform
						character_event = { id = fkr.236 days = 180 }
					}
					20 = { #great reform
						character_event = { id = fkr.237 days = 180 }
						modifier = {
							factor = 0.5
							stewardship < 6
						}
						modifier = {
							factor = 1.2
							stewardship > 15
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 0.25
			modifier = {
				factor = 2
				trait = slothful
			}
			modifier = {
				factor = 1.2
				trait = arbitrary
			}
			modifier = {
				factor = 0.7
				trait = diligent
			}
			modifier = {
				factor = 0.3
				trait = just
			}
		}
	}
	option = {
		name = EVTOPTBFKR234
		scaled_wealth = -1
		custom_tooltip = {
			text = reform_good_TT
			text = getback_180_TT
			hidden_tooltip = {
				random_list = {
					25 = { #poor reform
						character_event = { id = fkr.235 days = 180 }
						modifier = {
							factor = 2
							stewardship < 6
						}
					}
					55 = { #reform
						character_event = { id = fkr.236 days = 180 }
					}
					20 = { #great reform
						character_event = { id = fkr.237 days = 180 }
						modifier = {
							factor = 0.6
							stewardship < 6
						}
						modifier = {
							factor = 1.3
							stewardship > 15
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 0.45
			modifier = {
				factor = 0.5
				trait = slothful
			}
			modifier = {
				factor = 0.8
				trait = arbitrary
			}
			modifier = {
				factor = 1.1
				trait = diligent
			}
			modifier = {
				factor = 1.2
				trait = just
			}
		}
	}
	option = {
		name = EVTOPTCFKR234
		scaled_wealth = -2
		custom_tooltip = {
			text = reform_alot_TT
			text = getback_180_TT
			hidden_tooltip = {
				random_list = {
					10 = { #poor reform
						character_event = { id = fkr.235 days = 180 }
						modifier = {
							factor = 2
							stewardship < 6
						}
					}
					60 = { #reform
						character_event = { id = fkr.236 days = 180 }
					}
					25 = { #great reform
						character_event = { id = fkr.237 days = 180 }
						modifier = {
							factor = 0.7
							stewardship < 6
						}
						modifier = {
							factor = 1.5
							stewardship > 15
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 0.30
			modifier = {
				factor = 0.5
				trait = slothful
			}
			modifier = {
				factor = 0.7
				trait = arbitrary
			}
			modifier = {
				factor = 1.2
				trait = diligent
			}
			modifier = {
				factor = 1.3
				trait = just
			}
		}
	}
}

#Reforms failed
character_event = {
	id = fkr.235
	desc = EVTDESCFKR235
	picture = GFX_evt_dark_court
	is_triggered_only = yes
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = -3 }
		}
	}
	
	option = {
		name = opta_disappointing
		custom_tooltip = {
			name = bureau_decrease_3_TT
		}
		add_character_modifier = {
			modifier = poor_reforms
			duration = 365
		}
	}
}

#Reforms did fine
character_event = {
	id = fkr.236
	desc = EVTDESCFKR236
	picture = GFX_evt_council
	is_triggered_only = yes
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = 3 }
		}
	}
	
	option = {
		name = EVTOPTAFKR236
		custom_tooltip = {
			name = bureau_increase_3_TT
		}
	}
}

#Reforms succeeded
character_event = {
	id = fkr.237
	desc = EVTDESCFKR237
	picture = GFX_evt_ruler_speaks
	is_triggered_only = yes
	
	immediate = {
		primary_title = {
			change_variable = { which = palace_bureaucracy_number value = 5 }
		}
	}
	
	option = {
		name = EVTOPTAFKR237
		custom_tooltip = {
			name = bureau_increase_3_TT
		}
		custom_tooltip = {
			name = globalbureau_increase_1_TT
		}
		add_character_modifier = {
			modifier = good_reforms
			duration = 365
		}
	}
}

#Maintenance
character_event = {
	id = fkr.250
	hide_window = yes
	trigger = {
		primary_title = {
			check_variable = { which = palace_bureaucracy_number value >= 100 }
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			set_variable = { which = palace_bureaucracy_number value = 100 }
		}
	}
}

#Maintenance
character_event = {
	id = fkr.251
	hide_window = yes
	trigger = {
		primary_title = {
			check_variable = { which = palace_bureaucracy_number value < 0 }
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		primary_title = {
			set_variable = { which = palace_bureaucracy_number value = 0 }
		}
	}
}